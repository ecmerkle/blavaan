[{"path":"http://ecmerkle.github.io/blavaan/articles/estimate.html","id":"primary-arguments","dir":"Articles","previous_headings":"","what":"Primary arguments","title":"Model Estimation","text":"Primary arguments model estimation commands include burnin, sample, n.chains, target. burnin sample arguments used specify desired number burn-iterations posterior samples n.chains chains (burnin argument controls warm-iterations Stan). target argument, hand, used specify MCMC strategy used estimation. default, target = \"stan\", tends fastest efficient. options slightly flexible, including target = \"stanclassic\" target = \"jags\". approaches sample latent variables model parameters, whereas target = \"stan\" marginalizes latent variables. detail approaches, see JSS paper.","code":""},{"path":"http://ecmerkle.github.io/blavaan/articles/estimate.html","id":"secondary-arguments","dir":"Articles","previous_headings":"","what":"Secondary arguments","title":"Model Estimation","text":"Noteworthy secondary arguments include save.lvs, mcmcfile, mcmcextra, inits. save.lvs argument controls whether latent variables sampled model estimation. defaults FALSE latent variable sampling can take large amount memory, can slow post-estimation summaries. setting save.lvs = TRUE allows model summaries latent variables observed variable predictions using blavPredict() functions. setting mcmcfile = TRUE, users can obtain Stan (JAGS) code data specified model. files written lavExport folder within user’s working directory. One file extension .jag .stan, second file R data file (extension .rda). rda file can loaded R (via load()) list including elements data, monitors, inits. elements can supplied stan() model estimation outside blavaan. mcmcextra argument used supply extra information Stan JAGS. Users can supply list element names monitor, data, syntax, llnsamp. elements respectively used specify extra parameters monitor, extra data pass model estimation, extra syntax include model file (JAGS ), number importance samples likelihood approximation (relevant models ordinal variables). inits argument used control starting values MCMC estimation. can sometimes salvage model immediately crashes. default, inits = \"prior\", draws initial values prior distributions. second option, inits = \"simple\", initializes model parameters 0 1 fashion similar lavaan’s use argument. user can also specify list initial values via argument, though required list format somewhat cumbersome. recommend exporting model data using mcmcfile = TRUE, loading resulting rda file, looking format initial values blavaan created .","code":""},{"path":"http://ecmerkle.github.io/blavaan/articles/estimate.html","id":"parallelization","dir":"Articles","previous_headings":"","what":"Parallelization","title":"Model Estimation","text":"Speed always issue sample via MCMC, especially using software like Stan JAGS. computers multiple cores, estimation can sped sending MCMC chain separate core. accomplished bcontrol argument, list whose elements correspond stan() run.jags() arguments. parallelizing chains Stan, want use argument bcontrol = list(cores = 3). Many arguments available ; see ?stan ?run.jags possibilities.","code":""},{"path":"http://ecmerkle.github.io/blavaan/articles/invariance.html","id":"model-estimation","dir":"Articles","previous_headings":"","what":"Model Estimation","title":"Measurement Invariance","text":"Consider measurement invariance study Holzinger Swineford (1939) data. lavaan, may first estimate two models: examine absolute fit fit1. also compare fit2 fit1 via Likelihood Ratio Test. Instead , wish something similar via Bayesian methods. accomplish via blavaan, can fit Bayesian versions fit1 fit2 using similar syntax. Model fit comparison statistics available via fitMeasures() blavCompare() functions:","code":"HS.model <- ' visual  =~ x1 + x2 + x3               textual =~ x4 + x5 + x6               speed   =~ x7 + x8 + x9 '  fit1 <- cfa(HS.model, data = HolzingerSwineford1939, group = \"school\")  fit2 <- cfa(HS.model, data = HolzingerSwineford1939, group = \"school\",             group.equal = \"loadings\") bfit1 <- bcfa(HS.model, data = HolzingerSwineford1939, group = \"school\")  bfit2 <- bcfa(HS.model, data = HolzingerSwineford1939, group = \"school\",                group.equal = \"loadings\") fitMeasures(bfit1)  fitMeasures(bfit2)  blavCompare(bfit1, bfit2)"},{"path":"http://ecmerkle.github.io/blavaan/articles/invariance.html","id":"approximate-invariance","dir":"Articles","previous_headings":"","what":"Approximate Invariance","title":"Measurement Invariance","text":"approximate measurement invariance studies, replace hard equality constraints soft constraints using informative prior distributions. wiggle argument can used invoke types constraints. example: constrains loadings associated x2 x3 approximately equal across groups, informative priors associated constraints normal standard deviations 0.05. Using strategy, syntax can become cumbersome. many cases, group.equal argument can help . example: example, model intercepts loadings across-group constraints. loadings approximately equal across groups, due argument wiggle = \"loadings\". intercepts constrained exactly equal across groups. way, becomes easy use exact approximate equality constraints model, desired.","code":"HS.model <- ' visual  =~ x1 + c(\"a\", \"a\")*x2 + c(\"b\", \"b\")*x3               textual =~ x4 + x5 + x6               speed   =~ x7 + x8 + x9 '  bfit3 <- bcfa(HS.model, data = HolzingerSwineford1939, group = \"school\", wiggle = c(\"a\", \"b\"),               wiggle.sd = 0.05) HS.model <- ' visual  =~ x1 + x2 + x3               textual =~ x4 + x5 + x6               speed   =~ x7 + x8 + x9 '       bfit4 <- bcfa(HS.model, data = HolzingerSwineford1939, group = \"school\",               group.equal = c(\"intercepts\", \"loadings\"), wiggle = \"loadings\",               wiggle.sd = 0.05)"},{"path":"http://ecmerkle.github.io/blavaan/articles/invariance.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Measurement Invariance","text":"Holzinger, K. J., F. . Swineford. 1939. Study Factor Analysis: Stability Bi-Factor Solution. Supplementary Educational Monograph 48. Chicago: University Chicago Press.","code":""},{"path":"http://ecmerkle.github.io/blavaan/articles/ordinal.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Ordinal Models in blavaan","text":"Structural equation models ordinal observed variables supported starting blavaan 0.4-1 (target=\"stan\" ). document describes overall approach, includes model estimation, threshold parameters, log-likelihood calculation, posterior predictive p-values, Jacobians. assume somewhat familiar layout SEM; , technical detail examples found Merkle Rosseel (2018) , recently, Merkle et al. (2021) (links papers references section). aim provide enough detail elucidate new blavaan features, informal enough get () bored.","code":""},{"path":"http://ecmerkle.github.io/blavaan/articles/ordinal.html","id":"estimation","dir":"Articles","previous_headings":"","what":"Estimation","title":"Ordinal Models in blavaan","text":"Ordinal observed variables handled via data augmentation, style Chib Greenberg (1998). might already know , phrase data augmentation imprecise context SEM. many possible things augmented, can make model estimation easier. augmenting observed data predictions missing values, related multiple imputation methods. augmenting observed data latent variables, can simplify likelihood calculation (leading sometimes called conditional likelihood, though conditional also many meanings). augmenting categorical observed variables underlying, latent continuous variables. last type augmentation . testing, found faster efficient approaches sample latent variables alongside model parameters (latent variables integrated likelihoods ; similar description Merkle et al. (2021)). data augmentation implementation, ordinal observation (e.g., \\(y\\)) used generate continuous, underlying counterpart (e.g., \\(y^\\ast\\)). \\(y^\\ast\\) must obey model’s threshold parameters (commonly denoted \\(\\mathbf{\\tau}\\)), based value observed data. example, ignoring subscripts \\(y^\\ast\\) assuming ordinal variable 4 categories, \\[\\begin{align*} y^* < \\tau_1 &\\text{ }y = 1 \\\\ \\tau_1 <\\ y^* < \\tau_2 &\\text{ }y = 2 \\\\ \\tau_2 <\\ y^* < \\tau_3 &\\text{ }y = 3 \\\\ y^* >\\ \\tau_3 &\\text{ }y = 4 \\end{align*}\\] require \\(\\tau_1 < \\tau_2 < \\tau_3\\). generate \\(y^*\\) separately ordinal observation dataset. become additional, bounded parameters Stan file. Stan User’s Guide helpful example multivariate probit regression using related approach; see https://mc-stan.org/docs/2_27/stan-users-guide/multivariate-outcomes.html. trickiest parts involve enforcing boundaries \\(y^*\\) variables, ensuring threshold parameters ordinal variable ordered correctly (allowing possibility different ordinal variables different numbers thresholds). require Jacobian adjustments took good deal time code correctly (detail appears later section). parameters defined generated, remainder model estimation similar simpler situation observed variables continuous. terms Stan file, ordinal overhead comes transformed parameters block. get model block, things operate continuous data.","code":""},{"path":"http://ecmerkle.github.io/blavaan/articles/ordinal.html","id":"thresholds-priors","dir":"Articles","previous_headings":"","what":"Thresholds & Priors","title":"Ordinal Models in blavaan","text":"prior distributions threshold (\\(\\tau\\)) parameters involved may appear. , described previous section, threshold parameters single variable must ordered. say, example, thresholds normal(0,1) prior distribution, ignoring fact one threshold’s value influences size thresholds’ values. Michael Betancourt describes Stan Discourse, prior “interacts (ordering) constraint enforce sort uniform repulsion interior points, resulting rigid differences.” quote https://discourse.mc-stan.org/t/prior-choice--ordered-inverse-transformed-parameters/16378/3 address issue, first define unconstrained, unordered parameter vector whose length equals number thresholds model. Call vector \\(\\mathbf{\\tau}^*\\). obtain ordered thresholds exponentiating unordered parameter vector specific manner. manner works exactly Stan defines parameter type ordered. See https://mc-stan.org/docs/2_28/reference-manual/ordered-vector.html. Additionally, similar idea independently developed signal detection models Paulewicz Blaut (2020) (see bhsdtr package). idea easily shown via example. Say ordinal variable 4 categories. three thresholds variable obtained via: \\[\\begin{align*} \\tau_1 &= \\tau^*_1 \\\\ \\tau_2 &= \\tau^*_1 + \\exp(\\tau^*_2) \\\\ \\tau_3 &= \\tau^*_1 + \\exp(\\tau^*_2) + \\exp(\\tau^*_3). \\end{align*}\\] place normal prior distributions unordered \\(\\tau^*\\) parameters, opposed placing priors ordered \\(\\tau\\) parameters. normal priors imply lowest threshold (\\(\\tau_1\\) ) normal prior, differences successive \\(\\tau\\)’s log-normal priors. blavaan, priors can specified usual two ways. First, add dp argument model estimation command follows. assign prior unordered \\(\\tau^*\\) parameters model. Second, specify priors specific threshold parameters model specification syntax. example, say 4-category observed variable called x1. unique priors three thresholds specified model syntax via clear time priors \\(\\tau^*\\) parameters best option. 2019 paper, Michael Betancourt describes Dirichlet prior regularizes thresholds ordinal regression model. strategy seem work SEM, especially useful datasets categories ordinal variable sparse. issues warrant study. https://betanalpha.github.io/assets/case_studies/ordinal_regression.html","code":"dp = dpriors(tau = \"normal(0, .5)\") x1 | prior(\"normal(-1, 1)\") * t1 + prior(\"normal(0, .5)\") * t2 + prior(\"normal(0, 1)\") * t3"},{"path":"http://ecmerkle.github.io/blavaan/articles/ordinal.html","id":"likelihood-computations","dir":"Articles","previous_headings":"","what":"Likelihood Computations","title":"Ordinal Models in blavaan","text":"get continuous data model block, seems reasonable expect simple likelihood computations. depends likelihood want compute. likelihood used sampling Stan simple multivariate normal \\(y^*\\) observations, combined continuous observed variables model. indeed simple compute. likelihood want use model comparison. one thing, \\(y^*\\) parameters associated ordinal data involved likelihood, quantities like effective number parameters become inflated. number parameters involved likelihood also increases sample size, generally bad land model comparison metrics. See Merkle, Furr, Rabe-Hesketh (2019) detail . means , quantities like WAIC PSIS-LOO, must compute second model likelihood involves observed, ordinal \\(y\\) variables integrates latent \\(y^*\\) variables. difficult problem amounts evaluating CDF sometimes-high-dimensional, multivariate normal distribution (see Chib Greenberg 1998, Equation 11). follow Chib Greenberg (1998) approximating integrals via Monte Carlo simulation, relying tmvnsim package (Bhattacjarjee 2016). case, generate many random samples appropriate truncated multivariate normal average resulting importance sampling weights. procedure computationally intensive also time intensive, balance number random samples drawn amount time takes. number samples currently defaults 20 times number ordinal variables, maximum 200. Users can also set number samples draw time model estimation, setting llnsamp within mcmcextra$data argument. example, draw 100 samples approximation, call bsem() similar functions include argument way compute marginal likelihood. gold standard probably quadrature method integrates latent variables, opposed method integrates \\(y^*\\) variables. Quadrature latent variables also reduce dimension integration models, may switch method future. also exists relatively new method Botev (2017) evaluating CDF multivariate normal, implementation method appearing package TruncatedNormal (Botev Belzile 2021). limited testing, TruncatedNormal implementation considerably slower tmvnsim purposes. may revisit issue future.","code":"mcmcextra = list(data = list(llnsamp = 100))"},{"path":"http://ecmerkle.github.io/blavaan/articles/ordinal.html","id":"comparison-to-lavaan","dir":"Articles","previous_headings":"","what":"Comparison to lavaan","title":"Ordinal Models in blavaan","text":"Ordinal SEM associated two types model parameterizations: delta theta. refer different scale parameterizations \\(y^*\\) variables: delta refers total standard deviation \\(y^*\\) (including variability due latent variables), theta refers residual standard deviation \\(y^*\\). blavaan, theta parameterization implemented. , want compare lavaan results blavaan results, need use argument parameterization = \"theta\" estimate lavaan model. Also, default lavaan estimator ordinal models multiple-step procedure involves weighted least squares discrepancy function. resulting parameter estimates sometimes far posterior means reported blavaan. blavaan estimates usually closer estimator=\"PML\" lavaan.","code":""},{"path":"http://ecmerkle.github.io/blavaan/articles/ordinal.html","id":"posterior-predictive-p-values","dir":"Articles","previous_headings":"","what":"Posterior Predictive p-values","title":"Ordinal Models in blavaan","text":"Posterior predictive p-value (ppp) computations receive speed boost 0.4 series. computations now occur Stan, whereas previously occurred R model estimation. discussed Asparouhov Muthén (2021), ppp computations needed models missing data can excessively slow, requiring us run EM algorithm posterior sample order find “H1” (“saturated”) model covariance matrix. solution Asparouhov Muthén (2021) involves realization need use fully-optimized H1 covariance matrix order compute ppp. blavaan, consequently run EM algorithm fixed number iterations order compute H1 covariance matrix “good enough” ppp. default number iterations set 20, users can change default supplying emiter value via mcmcextra argument. example,","code":"mcmcextra = list(data = list(emiter = 50))"},{"path":"http://ecmerkle.github.io/blavaan/articles/ordinal.html","id":"jacobians","dir":"Articles","previous_headings":"","what":"Jacobians","title":"Ordinal Models in blavaan","text":"(section likely relevant editing/writing Stan models.) Stan model underlying blavaan currently requires Jacobian adjustments two places. section briefly reviews ideas underneath adjustments, future self may wish remember. need Jacobian adjustment place prior something appear Stan parameters block. Jacobian tells us implied priors things parameters block, based priors appear model block. Jacobian comes statistics literature “change variables”: applying function random variables, finding distribution function based original distribution random variables. comes Stan models, means starting priors model block finding implied priors parameters block. confused long time , Stan file, functions naturally go opposite direction: starting parameters block, moving model block. fact functions go model parameters convenient, though, Jacobian adjustments require inverse functions. inverse functions move us parameters model, already exist Stan model. just need find appropriate derivatives functions, lead Jacobian. example, consider fact blavaan allows users choose whether priors go standard deviation, variance, precision parameters. standard deviations appear parameters block regardless user chooses (Stan model precompiled time package installation). Say user wants priors precisions. transform standard deviations precisions model block, put prior precision. addition prior, need Jacobian function starts standard deviation (call \\(\\sigma\\)) transforms precision (\\(\\sigma^{-2}\\)). derivative \\(\\sigma^{-2}\\) respect \\(\\sigma\\) \\(-2 \\sigma^{-3}\\). simple function mapping single parameter different value, Jacobian absolute value derivative, \\(2 \\sigma^{-3}\\). Stan file, add log Jacobian target: examples discussion can found : https://mc-stan.org/users/documentation/case-studies/mle-params.html","code":"target += log(2) - 3*log(sigma)"},{"path":"http://ecmerkle.github.io/blavaan/articles/ordinal.html","id":"summary","dir":"Articles","previous_headings":"","what":"Summary","title":"Ordinal Models in blavaan","text":"blavaan 0.4 series offers enhanced functionality variety areas. computational decisions made reflect balance estimation precision estimation speed. case software defaults behave poorly situations. example, default prior distributions can problematic certain situations, likelihood approximations ordinal models may precise desired, new ppp computations may behave differently previous computations. encourage users carry sensitivity analyses, also report bugs!","code":""},{"path":"http://ecmerkle.github.io/blavaan/articles/ordinal.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Ordinal Models in blavaan","text":"Asparouhov, Tihomir, Bengt Muthén. 2021. “Advances Bayesian Model Fit Evaluation Structural Equation Models.” Structural Equation Modeling: Multidisciplinary Journal 28 (1): 1–14. https://doi.org/10.1080/10705511.2020.1764360. Bhattacjarjee, Samsiddhi. 2016. tmvnsim: Truncated Multivariate Normal Simulation. https://CRAN.R-project.org/package=tmvnsim. Botev, Zdravko, Leo Belzile. 2021. TruncatedNormal: Truncated Multivariate Normal Student Distributions. https://CRAN.R-project.org/package=TruncatedNormal. Botev, Z. . 2017. “Normal Law Linear Restrictions: Simulation Estimation via Minimax Tilting.” Journal Royal Statistical Society: Series B 79 (1): 125–48. https://doi.org/https://doi.org/10.1111/rssb.12162. Chib, S., E. Greenberg. 1998. “Analysis Multivariate Probit Models.” Biometrika 85: 347–61. Merkle, E. C., E. Fitzsimmons, J. Uanhoro, B. Goodrich. 2021. “Efficient Bayesian Structural Equation Modeling Stan.” Journal Statistical Software 100 (6): 1–22. https://www.jstatsoft.org/article/view/v100i06. Merkle, E. C., D. Furr, S. Rabe-Hesketh. 2019. “Bayesian Comparison Latent Variable Models: Conditional Versus Marginal Likelihoods.” Psychometrika 84: 802–29. https://arxiv.org/abs/1802.04452. Merkle, E. C., Y. Rosseel. 2018. “blavaan: Bayesian Structural Equation Models via Parameter Expansion.” Journal Statistical Software 85 (4): 1–30. https://www.jstatsoft.org/article/view/v085i04. Paulewicz, B., . Blaut. 2020. “bhsdtr Package: General-Purpose Method Bayesian Inference Signal Detection Theory Models.” Behavior Research Methods 52: 2122–41.","code":""},{"path":"http://ecmerkle.github.io/blavaan/articles/plotting.html","id":"basics","dir":"Articles","previous_headings":"","what":"Basics","title":"Plot Functionality","text":"many blavaan models many parameters, users generally need specify parameters wish plot. accomplished supplying numbers pars argument, numbers correspond order parameters coef() command (numbers also appear free column parameter table). Users must also specify type plot desire via plot.type argument. , example, trace plot first four model parameters looks like Many plot types available, coming bayesplot package. general, bayesplot functions begin mcmc_, corresponding plot.type remainder function name without leading mcmc_. Examples many plots can found bayesplot vignette.","code":"plot(fit, pars = 1:4, plot.type = \"trace\")"},{"path":"http://ecmerkle.github.io/blavaan/articles/plotting.html","id":"customization","dir":"Articles","previous_headings":"","what":"Customization","title":"Plot Functionality","text":"Users may wish customize aspects resulting plots. , plot() function output ggplot2 object: Now, possible modify p ggplot2 object. Alternatively, users may wish create plot entirely different available via plot(). can facilitated extracting posterior samples Stan model, via blavInspect():","code":"p <- plot(fit, pars = 1:4, plot.type = \"trace\") ## list of draws ## (one list entry per chain): draws <- blavInspect(fit, \"mcmc\")  ## convert the list to a matrix ## (each row is a sample, ##  each column is a parameter) draws <- do.call(\"rbind\", draws)  ## Stan (or JAGS) model modobj <- blavInspect(fit, \"mcobj\")"},{"path":"http://ecmerkle.github.io/blavaan/articles/plotting.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Plot Functionality","text":"Gabry, Jonah, Tristan Mahr. 2021. “Bayesplot: Plotting Bayesian Models.” https://mc-stan.org/bayesplot/.","code":""},{"path":"http://ecmerkle.github.io/blavaan/articles/prior.html","id":"defaults","dir":"Articles","previous_headings":"","what":"Defaults","title":"Specifying Prior Distributions","text":"default priors can seen via important note prior distributions correspond Stan parameterizations. similar R parameterizations necessarily exactly . Greek(ish) names correspond following parameter types (MV manifest/observed variable LV latent variable): information priors thresholds, see ordinal modeling details. target = \"stan\" (default), priors currently restricted one distribution per parameter type. can change prior distribution parameters (example, mean standard deviation normal), change prior distribution type. exceptions “theta” “psi” parameters: , can use modifiers “[sd]”, “[var]”, “[prec]” specify whether want priors apply standard deviation, variance, precision. require flexibility prior specification, change target either \"stanclassic\" (old Stan approach) \"jags\" (JAGS approach). Alternatively, can export Stan model via mcmcfile = TRUE, edit file needed, fit via rstan package. modify prior distributions, simply supply new text string dpriors() like : default prior loadings now normal mean 1 standard deviation 2, rest parameters remain original defaults. next time estimate model (via bsem(), bcfa(), bgrowth(), blavaan()), add argument dp=mydp use new set default priors.","code":"dpriors() ##                nu             alpha            lambda              beta  ##    \"normal(0,32)\"    \"normal(0,10)\"    \"normal(0,10)\"    \"normal(0,10)\"  ##             theta               psi               rho             ibpsi  ## \"gamma(1,.5)[sd]\" \"gamma(1,.5)[sd]\"       \"beta(1,1)\" \"wishart(3,iden)\"  ##               tau  ##   \"normal(0,1.5)\" ##                  nu               alpha              lambda                beta  ##      \"MV intercept\"      \"LV intercept\"           \"Loading\"        \"Regression\"  ##               theta                 psi                 rho               ibpsi  ##      \"MV precision\"      \"LV precision\"       \"Correlation\" \"Covariance matrix\"  ##                 tau  ##         \"Threshold\" mydp <- dpriors(lambda=\"normal(1,2)\") mydp ##                nu             alpha            lambda              beta  ##    \"normal(0,32)\"    \"normal(0,10)\"     \"normal(1,2)\"    \"normal(0,10)\"  ##             theta               psi               rho             ibpsi  ## \"gamma(1,.5)[sd]\" \"gamma(1,.5)[sd]\"       \"beta(1,1)\" \"wishart(3,iden)\"  ##               tau  ##   \"normal(0,1.5)\""},{"path":"http://ecmerkle.github.io/blavaan/articles/prior.html","id":"individual-parameters","dir":"Articles","previous_headings":"","what":"Individual Parameters","title":"Specifying Prior Distributions","text":"addition setting prior one type model parameter, user may wish set prior specific model parameter. accomplished using prior() modifier within model specification. example, consider following syntax Holzinger Swineford (1939) confirmatory factor model: loading visual x2 now normal prior mean 1 standard deviation 2, loading textual x6 normal prior mean 3 standard deviation 1.5. loadings default prior distribution. syntax, additionally specified gamma(3,3) prior associated residual x1. [sd] text end distribution says prior goes residual standard deviation, opposed residual precision residual variance. exist two options : [var] option residual variance, brackets precision (also use [prec]). bracketed text can used model variance/SD/precision parameter also used default prior specification desired.","code":"HS.model <- ' visual  =~ x1 + prior(\"normal(1,2)\")*x2 + x3               textual =~ x4 + x5 + prior(\"normal(3,1.5)\")*x6               speed   =~ x7 + x8 + x9                x1 ~~ prior(\"gamma(3,3)[sd]\")*x1 '"},{"path":"http://ecmerkle.github.io/blavaan/articles/prior.html","id":"covariance-parameters","dir":"Articles","previous_headings":"","what":"Covariance Parameters","title":"Specifying Prior Distributions","text":"One additional note covariance parameters defined model syntax: prior() syntax specifies prior correlation associated covariance parameter, opposed covariance . specified distribution support (0,1), blavaan automatically translates prior equivalent distribution support (-1,1). safest stick beta priors . example, syntax places Beta(1,1) (uniform) prior correlation visual textual factors. desired, also specify priors standard deviations (variances precisions) visual textual factors. Together prior correlation, priors imply prior covariance visual textual.","code":"HS.model <- ' visual  =~ x1 + x2 + x3               textual =~ x4 + x5 + x6               speed   =~ x7 + x8 + x9                visual ~~ prior(\"beta(1,1)\")*textual '"},{"path":"http://ecmerkle.github.io/blavaan/articles/prior.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Specifying Prior Distributions","text":"Holzinger, K. J., F. . Swineford. 1939. Study Factor Analysis: Stability Bi-Factor Solution. Supplementary Educational Monograph 48. Chicago: University Chicago Press.","code":""},{"path":"http://ecmerkle.github.io/blavaan/articles/start.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Getting Started with blavaan","text":"blavaan can installed CRAN usual way: situations, may wish install blavaan GitHub. GitHub version sometimes contains bug fixes yet CRAN, though can also less stable. install GitHub, use following command. command requires system can compile Stan models, guaranteed usually install blavaan CRAN. trouble, may help look RStan Getting Started page.","code":"install.packages(\"blavaan\") remotes::install_github(\"ecmerkle/blavaan\", INSTALL_opts = \"--no-multiarch\")"},{"path":"http://ecmerkle.github.io/blavaan/articles/start.html","id":"commands-and-syntax","dir":"Articles","previous_headings":"","what":"Commands and Syntax","title":"Getting Started with blavaan","text":"blavaan package depends lavaan package model specification computations. means , already know lavaan, already able many things blavaan. particular, many blavaan commands add letter “b” start lavaan command. example, sem() becomes bsem(), lavInspect() becomes blavInspect(). also sometimes possible use lavaan command blavaan object, though results may always expect. details mind, look lavaan tutorial many examples models. can translate many examples blavaan adding “b” start commands. look pages , learn additional blavaan arguments specific Bayesian methods.","code":""},{"path":"http://ecmerkle.github.io/blavaan/articles/summaries.html","id":"convergence","dir":"Articles","previous_headings":"","what":"Convergence","title":"Model Summaries","text":"Following model estimation, immediately wish look “goodness” posterior samples, including convergence stationary distribution autocorrelation. Popular convergence metrics available via blavInspect() function: R-hat values near 1.00 indicate convergence, large effective sample sizes (hundreds ) preferred. details metrics, see, e.g., Posterior Analysis section Stan Reference Manual. model definitely converged (judged Rhat), blavaan issue multiple warnings. Lack convergence sometimes caused bad initial values (default, blavaan generates random initial values), occasionally helpful re-estimate model second time. Otherwise, lack convergence may imply prior distributions severely conflict data, ill-defined model. sometimes helpful try fit model lavaan, observe types errors occur .","code":"blavInspect(fit, 'rhat') blavInspect(fit, 'neff')"},{"path":"http://ecmerkle.github.io/blavaan/articles/summaries.html","id":"model-fit-comparison","dir":"Articles","previous_headings":"","what":"Model Fit & Comparison","title":"Model Summaries","text":"Next, may wish examine model fit metrics. many metrics available summary() output, available fitMeasures() function: judging absolute fit, blavaan supplies posterior predictive p-value based likelihood ratio statistic. Good-fitting models values near 0.5 metric. examining models’ relative fits, blavaan supplies DIC, WAIC, LOOIC. latter two metrics computed help loo package (Vehtari et al. 2020). Comparison multiple models criteria facilitated via blavCompare(), provides standard errors difference two criteria. notable functions include blavFitIndices() alternative measures absolute fit ppmc() general posterior predictive checks.","code":"summary(fit) fitMeasures(fit)"},{"path":"http://ecmerkle.github.io/blavaan/articles/summaries.html","id":"latent-variables-standardization","dir":"Articles","previous_headings":"","what":"Latent Variables & Standardization","title":"Model Summaries","text":"often-discussed advantage Bayesian models abilities describe uncertainty “random” parameters, including random effects latent variables. access functionality blavaan, users must set save.lvs = TRUE model estimation, done top page. model estimation, uses can access information via blavInspect() blavPredict(). Relevant arguments blavInspect() include lvmeans lvs. former returns posterior means latent variables, similar predictions supplied frequentist models. latter returns posterior samples latent variables, users summarize uncertainties functions latent variables. posterior samples returned list length n.chains, list entry row per posterior sample (number columns total number latent variables model): related, different, information can obtained blavPredict(). function also return posterior samples latent variables, matrix instead list: blavPredict() function also return predictions observed variables conditioned sampled latent variables. type = \"yhat\" argument returns expected values observed variables conditioned latent variable samples; type = \"ypred\" argument returns posterior predictions observed variables including residual noise (essentially yhat + error); type = \"ymis\" argument returns posterior predictions missing variables conditioned observed. expected values predictions returned list format; matrix, see last line code . Finally, fully related latent variables: standardizedPosterior() function return standardized posterior draws. calls lavaan function standardizedSolution() background function’s flexibility.","code":"postmns <- blavInspect(fit, what = \"lvmeans\") postsamps <- blavInspect(fit, what = \"lvs\") postsamps <- blavPredict(fit, type = \"lv\") evpreds <- blavPredict(fit, type = \"yhat\") postpreds <- blavPredict(fit, type = \"ypred\") mispreds <- blavPredict(fit, type = \"ymis\")  ## convert to matrix from list: evpreds <- do.call(\"rbind\", evpreds)"},{"path":"http://ecmerkle.github.io/blavaan/articles/summaries.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Model Summaries","text":"Vehtari, Aki, Jonah Gabry, Mans Magnusson, Yuling Yao, Paul-Christian Bürkner, Topi Paananen, Andrew Gelman. 2020. “Loo: Efficient Leave-One-Cross-Validation Waic Bayesian Models.” https://mc-stan.org/loo/.","code":""},{"path":"http://ecmerkle.github.io/blavaan/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Edgar Merkle. Author, maintainer. Yves Rosseel. Author. Ben Goodrich. Author. Mauricio Garnier-Villarreal. Contributor.            R/blav_compare.RR/ctr_bayes_fit.R Terrence D. Jorgensen. Contributor.            R/ctr_bayes_fit.RR/ctr_ppmc.R Huub Hoofs. Contributor.            R/ctr_bayes_fit.R Rens van de Schoot. Contributor.            R/ctr_bayes_fit.R","code":""},{"path":"http://ecmerkle.github.io/blavaan/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Merkle EC, Fitzsimmons E, Uanhoro J, Goodrich B (2021). “Efficient Bayesian Structural Equation Modeling Stan.” Journal Statistical Software, 100(6), 1–22. doi: 10.18637/jss.v100.i06. Merkle EC, Rosseel Y (2018). “blavaan: Bayesian Structural Equation Models via Parameter Expansion.” Journal Statistical Software, 85(4), 1–30. doi: 10.18637/jss.v085.i04.","code":"@Article{,   title = {Efficient {B}ayesian Structural Equation Modeling in {Stan}},   author = {Edgar C. Merkle and Ellen Fitzsimmons and James Uanhoro and Ben Goodrich},   journal = {Journal of Statistical Software},   year = {2021},   volume = {100},   number = {6},   pages = {1--22},   doi = {10.18637/jss.v100.i06}, } @Article{,   title = {{blavaan}: Bayesian Structural Equation Models via Parameter Expansion},   author = {Edgar C. Merkle and Yves Rosseel},   journal = {Journal of Statistical Software},   year = {2018},   volume = {85},   number = {4},   pages = {1--30},   doi = {10.18637/jss.v085.i04}, }"},{"path":"http://ecmerkle.github.io/blavaan/index.html","id":"blavaan","dir":"","previous_headings":"","what":"Bayesian Latent Variable Analysis","title":"Bayesian Latent Variable Analysis","text":"blavaan free, open source R package Bayesian latent variable analysis. relies JAGS Stan estimate models via MCMC. blavaan functions syntax similar lavaan. example, consider Political Democracy example Bollen (1989): development version blavaan (containing updates yet CRAN) can installed via command . Compilation required; may problem users currently rely binary version blavaan CRAN. information, see: Merkle, E. C., Fitzsimmons, E., Uanhoro, J., & Goodrich, B. (2021). Efficient Bayesian structural equation modeling Stan. Journal Statistical Software, 100(6), 1–22. Merkle, E. C., & Rosseel, Y. (2018). blavaan: Bayesian structural equation models via parameter expansion. Journal Statistical Software, 85(4), 1–30. blavaan supported Institute Education Sciences, U.S. Department Education, Grant R305D210044, well NSF grants SES-1061334 1460719.","code":"library(blavaan)  model <- '    # latent variable definitions      ind60 =~ x1 + x2 + x3      dem60 =~ y1 + y2 + y3 + y4      dem65 =~ y5 + y6 + y7 + y8    # regressions      dem60 ~ ind60      dem65 ~ ind60 + dem60    # residual covariances      y1 ~~ y5      y2 ~~ y4 + y6      y3 ~~ y7      y4 ~~ y8      y6 ~~ y8 ' fit <- bsem(model, data = PoliticalDemocracy) summary(fit) remotes::install_github(\"ecmerkle/blavaan\", INSTALL_opts = \"--no-multiarch\")"},{"path":"http://ecmerkle.github.io/blavaan/reference/bcfa.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit Confirmatory Factor Analysis Models — bcfa","title":"Fit Confirmatory Factor Analysis Models — bcfa","text":"Fit Confirmatory Factor Analysis (CFA) model.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/bcfa.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit Confirmatory Factor Analysis Models — bcfa","text":"","code":"bcfa(..., cp = \"srs\",      dp = NULL, n.chains = 3, burnin, sample,      adapt, mcmcfile = FALSE, mcmcextra = list(), inits = \"prior\",      convergence = \"manual\", target = \"stan\", save.lvs = FALSE,      wiggle = NULL, wiggle.sd = 0.1, prisamp = FALSE, jags.ic = FALSE,      seed = NULL, bcontrol = list())"},{"path":"http://ecmerkle.github.io/blavaan/reference/bcfa.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit Confirmatory Factor Analysis Models — bcfa","text":"... Default lavaan arguments.  See lavaan. cp Handling prior distributions covariance parameters:   possible values \"srs\" (default)     \"fa\". Option \"fa\" available target=\"jags\". dp Default prior distributions different types     parameters, typically result call dpriors().     See dpriors() help file information. n.chains Number desired MCMC chains. burnin Number burnin iterations, including adaptive   iterations. sample total number samples take burnin. adapt number adaptive iterations use start   simulation. mcmcfile TRUE, JAGS/Stan model written file   (lavExport directory). Can also supply character   string, serves name directory files written. mcmcextra list potential names syntax (unavailable   target=\"stan\"),   monitor, data, llnsamp. syntax object text string containing extra   code insert JAGS/Stan model syntax. data object   list extra data send JAGS/Stan model. monitor object   character vector containing extra JAGS/Stan parameters   monitor. llnsamp object relevant models ordinal   variables, specifies number samples drawn approximate   model log-likelihood (larger numbers imply higher accuracy   longer time). log-likelihood specifically used compute   information criteria. inits character string, options currently     \"simple\", \"Mplus\", \"prior\" (default), \"jags\".  first two     cases, parameter values set though estimated via     ML (see lavaan).  starting parameter value     chain perturbed original values     addition random uniform noise.  \"prior\" used, starting     parameter values obtained based prior distributions     (also trying ensure starting values crash     model estimation).  \"jags\", starting values     specified JAGS choose values (probably     crash Stan targets). can also supply     list starting values chain, list format can     obtained , e.g., blavInspect(fit, \"inits\"). Finally,     can specify starting values similar way lavaan,     using lavaan start argument (see lavaan     documentation options ). case, also set     inits=\"simple\", aware starting values     used chain. convergence Useful target=\"jags\". \"auto\", parameters   sampled convergence achieved (via autorun.jags()).   case, arguments burnin sample passed   autorun.jags() startburnin startsample,   respectively. Otherwise, parameters   sampled specified user (run.jags   defaults). target Desired MCMC sampling, \"stan\" (pre-compiled   marginal approach)   default. Also available \"vb\", calls rstan function   vb(). options include \"jags\", \"stancond\",   \"stanclassic\", sample latent variables provide   greater functionality (syntax written \"fly\").   slower less efficient. save.lvs sampled latent variables (factor scores)   saved? Logical; defaults FALSE wiggle Labels equality-constrained parameters   \"approximately\" equal. Can also \"intercepts\", \"loadings\",   \"regressions\", \"means\". wiggle.sd prior sd (normal distribution) used approximate equality   constraints. Can one value, (target=\"stan\") numeric vector   values length wiggle. prisamp samples drawn prior, instead   posterior (target=\"stan\" )? Logical; defaults FALSE jags.ic DIC computed JAGS way, addition BUGS way? Logical; defaults FALSE seed vector length n.chains (target   \"jags\") integer (target \"stan\") containing random   seeds MCMC run. NULL, seeds chosen randomly. bcontrol list containing additional parameters passed     run.jags (autorun.jags) stan.  See manpage functions     overview additional parameters can set.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/bcfa.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fit Confirmatory Factor Analysis Models — bcfa","text":"bcfa function wrapper general     blavaan function, using following default     lavaan arguments:     int.ov.free = TRUE, int.lv.free = FALSE,     auto.fix.first = TRUE (unless std.lv = TRUE),     auto.fix.single = TRUE, auto.var = TRUE,     auto.cov.lv.x = TRUE,     auto.th = TRUE, auto.delta = TRUE,     auto.cov.y = TRUE.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/bcfa.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit Confirmatory Factor Analysis Models — bcfa","text":"object class lavaan, several methods   available, including summary method.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/bcfa.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Fit Confirmatory Factor Analysis Models — bcfa","text":"Edgar C. Merkle, Ellen Fitzsimmons, James Uanhoro, & Ben Goodrich (2021). Efficient Bayesian Structural Equation Modeling Stan. Journal Statistical Software, 100(6), 1-22. URL http://www.jstatsoft.org/v100/i06/. Edgar C. Merkle & Yves Rosseel (2018). blavaan: Bayesian Structural Equation Models via Parameter Expansion. Journal Statistical Software, 85(4), 1-30. URL http://www.jstatsoft.org/v85/i04/. Yves Rosseel (2012). lavaan: R Package Structural Equation Modeling. Journal Statistical Software, 48(2), 1-36. URL http://www.jstatsoft.org/v48/i02/.","code":""},{"path":[]},{"path":"http://ecmerkle.github.io/blavaan/reference/bcfa.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fit Confirmatory Factor Analysis Models — bcfa","text":"","code":"if (FALSE) { # The Holzinger and Swineford (1939) example HS.model <- ' visual  =~ x1 + x2 + x3               textual =~ x4 + x5 + x6               speed   =~ x7 + x8 + x9 '  fit <- bcfa(HS.model, data=HolzingerSwineford1939) summary(fit) }"},{"path":"http://ecmerkle.github.io/blavaan/reference/bgrowth.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit Growth Curve Models — bgrowth","title":"Fit Growth Curve Models — bgrowth","text":"Fit Growth Curve model.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/bgrowth.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit Growth Curve Models — bgrowth","text":"","code":"bgrowth(..., cp = \"srs\", dp = NULL, n.chains = 3, burnin, sample, adapt, mcmcfile = FALSE, mcmcextra = list(),  inits = \"prior\", convergence = \"manual\", target = \"stan\", save.lvs = FALSE, wiggle = NULL, wiggle.sd = 0.1, prisamp = FALSE, jags.ic = FALSE, seed = NULL, bcontrol = list())"},{"path":"http://ecmerkle.github.io/blavaan/reference/bgrowth.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit Growth Curve Models — bgrowth","text":"... Default lavaan arguments.  See lavaan. cp Handling prior distributions covariance parameters:   possible values \"srs\" (default) \"fa\". Option \"fa\" available target=\"jags\". dp Default prior distributions different types     parameters, typically result call dpriors().     See dpriors() help file information. n.chains Number desired MCMC chains. burnin Number burnin iterations, including adaptive   iterations. sample total number samples take burnin. adapt number adaptive iterations use start   simulation. mcmcfile TRUE, JAGS/Stan model written file   (lavExport directory). Can also supply character   string, serves name directory files written. mcmcextra list potential names syntax (unavailable   target=\"stan\"),   monitor, data, llnsamp. syntax object text string containing extra   code insert JAGS/Stan model syntax. data object   list extra data send JAGS/Stan model. monitor object   character vector containing extra JAGS/Stan parameters   monitor. llnsamp object relevant models ordinal   variables, specifies number samples drawn approximate   model log-likelihood (larger numbers imply higher accuracy   longer time). log-likelihood specifically used compute   information criteria. inits character string, options currently     \"simple\", \"Mplus\", \"prior\" (default), \"jags\".  first two     cases, parameter values set though estimated via     ML (see lavaan).  starting parameter value     chain perturbed original values     addition random uniform noise.  \"prior\" used, starting     parameter values obtained based prior distributions     (also trying ensure starting values crash     model estimation).  \"jags\", starting values     specified JAGS choose values (probably     crash Stan targets). can also supply     list starting values chain, list format can     obtained , e.g., blavInspect(fit, \"inits\"). Finally,     can specify starting values similar way lavaan,     using lavaan start argument (see lavaan     documentation options ). case, also set     inits=\"simple\", aware starting values     used chain. convergence Useful target=\"jags\". \"auto\", parameters   sampled convergence achieved (via autorun.jags()).   case, arguments burnin sample passed   autorun.jags() startburnin startsample,   respectively. Otherwise, parameters   sampled specified user (run.jags   defaults). target Desired MCMC sampling, \"stan\" (pre-compiled   marginal approach)   default. Also available \"vb\", calls rstan function   vb(). options include \"jags\", \"stancond\",   \"stanclassic\", sample latent variables provide   greater functionality (syntax written \"fly\").   slower less efficient. save.lvs sampled latent variables (factor scores)   saved? Logical; defaults FALSE wiggle Labels equality-constrained parameters   \"approximately\" equal. Can also \"intercepts\", \"loadings\",   \"regressions\", \"means\". wiggle.sd prior sd (normal distribution) used approximate equality   constraints. Can one value, (target=\"stan\") numeric vector   values length wiggle. prisamp samples drawn prior, instead   posterior (target=\"stan\" )? Logical; defaults FALSE jags.ic DIC computed JAGS way, addition BUGS way? Logical; defaults FALSE seed vector length n.chains (target   \"jags\") integer (target \"stan\") containing random   seeds MCMC run. NULL, seeds chosen randomly. bcontrol list containing additional parameters passed     run.jags (autorun.jags) stan.  See manpage functions     overview additional parameters can set.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/bgrowth.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fit Growth Curve Models — bgrowth","text":"bgrowth function wrapper general       blavaan function, using following default       lavaan arguments:     meanstructure = TRUE,      int.ov.free = FALSE, int.lv.free = TRUE,     auto.fix.first = TRUE (unless std.lv = TRUE),     auto.fix.single = TRUE, auto.var = TRUE,     auto.cov.lv.x = TRUE,      auto.th = TRUE, auto.delta = TRUE,     auto.cov.y = TRUE.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/bgrowth.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit Growth Curve Models — bgrowth","text":"object class blavaan, several methods   available, including summary method.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/bgrowth.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Fit Growth Curve Models — bgrowth","text":"Edgar C. Merkle, Ellen Fitzsimmons, James Uanhoro, & Ben Goodrich (2021). Efficient Bayesian Structural Equation Modeling Stan. Journal Statistical Software, 100(6), 1-22. URL http://www.jstatsoft.org/v100/i06/. Edgar C. Merkle & Yves Rosseel (2018). blavaan: Bayesian Structural Equation Models via Parameter Expansion. Journal Statistical Software, 85(4), 1-30. URL http://www.jstatsoft.org/v85/i04/. Yves Rosseel (2012). lavaan: R Package Structural Equation Modeling. Journal Statistical Software, 48(2), 1-36. URL http://www.jstatsoft.org/v48/i02/.","code":""},{"path":[]},{"path":"http://ecmerkle.github.io/blavaan/reference/bgrowth.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fit Growth Curve Models — bgrowth","text":"","code":"if (FALSE) { ## linear growth model with a time-varying covariate model.syntax <- '   # intercept and slope with fixed coefficients     i =~ 1*t1 + 1*t2 + 1*t3 + 1*t4     s =~ 0*t1 + 1*t2 + 2*t3 + 3*t4    # regressions     i ~ x1 + x2     s ~ x1 + x2    # time-varying covariates     t1 ~ c1     t2 ~ c2     t3 ~ c3     t4 ~ c4 '  fit <- bgrowth(model.syntax, data=Demo.growth) summary(fit) }"},{"path":"http://ecmerkle.github.io/blavaan/reference/blavCompare.html","id":null,"dir":"Reference","previous_headings":"","what":"Bayesian model comparisons. — blavCompare","title":"Bayesian model comparisons. — blavCompare","text":"Bayesian model comparisons, including WAIC, LOO, Bayes factor approximation.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/blavCompare.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Bayesian model comparisons. — blavCompare","text":"","code":"blavCompare(object1, object2, ...)"},{"path":"http://ecmerkle.github.io/blavaan/reference/blavCompare.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Bayesian model comparisons. — blavCompare","text":"object1 object class blavaan. object2 second object class blavaan. ... arguments (unused now).","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/blavCompare.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Bayesian model comparisons. — blavCompare","text":"function approximates log-Bayes factor two candidate models using Laplace approximation model's marginal log-likelihood.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/blavCompare.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Bayesian model comparisons. — blavCompare","text":"log-Bayes factor approximation, along model's approximate marginal log-likelihood.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/blavCompare.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Bayesian model comparisons. — blavCompare","text":"Raftery, . E. (1993). Bayesian model selection structural equation models. K. . Bollen & J. S. Long (Eds.), Testing structural equation models (pp. 163-180). Beverly Hills, CA: Sage.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/blavCompare.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Bayesian model comparisons. — blavCompare","text":"","code":"if (FALSE) { hsm1 <- ' visual  =~ x1 + x2 + x3 + x4           textual =~ x4 + x5 + x6           speed   =~ x7 + x8 + x9 '  fit1 <- bcfa(hsm1, data=HolzingerSwineford1939)  hsm2 <- ' visual  =~ x1 + x2 + x3           textual =~ x4 + x5 + x6 + x7           speed   =~ x7 + x8 + x9 '  fit2 <- bcfa(hsm2, data=HolzingerSwineford1939)  blavCompare(fit1, fit2) }"},{"path":"http://ecmerkle.github.io/blavaan/reference/blavFitIndices.html","id":null,"dir":"Reference","previous_headings":"","what":"SEM Fit Indices for Bayesian SEM — blavFitIndices","title":"SEM Fit Indices for Bayesian SEM — blavFitIndices","text":"function provides posterior distribution \\(\\chi^2\\)-based fit indices assess global fit latent variable model.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/blavFitIndices.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"SEM Fit Indices for Bayesian SEM — blavFitIndices","text":"","code":"blavFitIndices(object, thin = 1L, pD = c(\"loo\",\"waic\",\"dic\"),                rescale = c(\"devM\",\"ppmc\",\"mcmc\"),                fit.measures = \"all\", baseline.model = NULL)  ## S4 method for signature 'blavFitIndices' # S4 method for blavFitIndices summary(object, ...)  summary.bfi(object, central.tendency = c(\"mean\",\"median\",\"mode\"),         hpd = TRUE, prob = .90)"},{"path":"http://ecmerkle.github.io/blavaan/reference/blavFitIndices.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"SEM Fit Indices for Bayesian SEM — blavFitIndices","text":"object object class blavaan. thin Optional integer indicating much thin chain.     Default 1L, indicating thin chains. pD character indicating information criterion     returned fitMeasures(object) use estimated number     parameters. default leave-one-information criterion     (LOO-IC), highly recommended Vehtari et al. (2017). rescale character indicating method used calculate     fit indices. rescale = \"devM\" (default), Bayesian analog     \\(\\chi^2\\) statistic (deviance evaluated posterior mean     model parameters) approximated rescaling deviance     iteration subtracting estimated number parameters.     rescale = \"PPMC\", deviance iteration rescaled     subtracting deviance data simulated posterior predictive     distribution (posterior predictive model checking; see Hoofs et al.,     2017). rescale = \"MCMC\", fit measures simply calculated     using fitMeasures iteration Markov     chain(s), based model-implied moments iteration (advised     model includes informative priors, case model's     estimated pD deviate number parameters used     calculate df fitMeasures). fit.measures \"\", fit measures available     returned. single fit measures specified name,     computed returned. rescale = \"devM\"     \"PPMC\", currently available indices \"BRMSEA\",     \"BGammaHat\", \"adjBGammaHat\", \"BMc\", \"BCFI\",     \"BTLI\", \"BNFI\". rescale = \"MCMC\", user may     request indices returned fitMeasures     objects class lavaan. baseline.model NULL, object class     blavaan, representing user-specified baseline model.     baseline.model provided, incremental fit indices (BCFI,     BTLI, BNFI) can requested fit.measures. Ignored     rescale = \"MCMC\". ... Additional arguments summary method: central.tendency Takes values \"mean\", \"median\", \"mode\", indicating statistics     used characterize location posterior distribution.     default, 3 statistics returned. posterior mean labeled     EAP expected posteriori estimate, mode     labeled MAP modal posteriori     estimate. hpd logical indicating whether calculate highest     posterior density (HPD) credible interval fit     index (defaults TRUE). prob \"confidence\" level   credible interval(s) (defaults 0.9).","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/blavFitIndices.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"SEM Fit Indices for Bayesian SEM — blavFitIndices","text":"S4 object class blavFitIndices consisting 2 slots: @details list containing choices made user     (defaults; e.g., values pD rescale set),     well posterior distribution \\(\\chi^2\\) (deviance)     statistic (rescaled, rescale = \"devM\" \"PPMC\"). @indices list containing posterior distribution     requested fit.measure. summary() method returns data.frame containing one row   requested fit.measure, columns containing specified   measure(s) central.tendency, posterior SD,   (requested) HPD credible-interval limits.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/blavFitIndices.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"SEM Fit Indices for Bayesian SEM — blavFitIndices","text":"Mauricio Garnier-Villareal (Vrije Universiteit Amsterdam; mgv@pm.) Terrence D. Jorgensen (University Amsterdam; TJorgensen314@gmail.com)","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/blavFitIndices.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"SEM Fit Indices for Bayesian SEM — blavFitIndices","text":"rescale = \"PPMC\" based : Hoofs, H., van de Schoot, R., Jansen, N. W., & Kant, . (2017).   Evaluating model fit Bayesian confirmatory factor analysis large   samples: Simulation study introducing BRMSEA.   Educational Psychological Measurement. doi:10.1177/0013164417709314 rescale = \"devM\" based : Garnier-Villarreal, M., & Jorgensen, T. D. (2020).  Adapting Fit Indices Bayesian Structural Equation Modeling: Comparison Maximum Likelihood.  Psychological Methods, 25(1), 46--70. https://doi.org/dx.doi.org/10.1037/met0000224   (See also https://osf.io/afkcw/) references: Vehtari, ., Gelman, ., & Gabry, J. (2017). Practical Bayesian model   evaluation using leave-one-cross-validation WAIC.   Statistics Computing, 27(5), 1413--1432.   doi:10.1007/s11222-016-9696-4","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/blavFitIndices.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"SEM Fit Indices for Bayesian SEM — blavFitIndices","text":"","code":"if (FALSE) { HS.model <- ' visual  =~ x1 + x2 + x3               textual =~ x4 + x5 + x6               speed   =~ x7 + x8 + x9 ' ## fit target model fit1 <- bcfa(HS.model, data = HolzingerSwineford1939,               n.chains = 2, burnin = 1000, sample = 1000)  ## fit null model to calculate CFI, TLI, and NFI null.model <- c(paste0(\"x\", 1:9, \" ~~ x\", 1:9), paste0(\"x\", 1:9, \" ~ 1\")) fit0 <- bcfa(null.model, data = HolzingerSwineford1939,               n.chains = 2, burnin = 1000, sample = 1000)  ## calculate posterior distributions of fit indices  ## The default method mimics fit indices derived from ML estimation ML <- blavFitIndices(fit1, baseline.model = fit0) ML summary(ML)  ## other options:  ## - use Hoofs et al.'s (2017) PPMC-based method ## - use the estimated number of parameters from WAIC instead of LOO-IC PPMC <- blavFitIndices(fit1, baseline.model = fit0,                        pD = \"waic\", rescale = \"PPMC\") ## issues a warning about using rescale=\"PPMC\" with N < 1000 (see Hoofs et al.)  ## - specify only the desired measures of central tendency ## - specify a different \"confidence\" level for the credible intervals summary(PPMC, central.tendency = c(\"mean\",\"mode\"), prob = .95)    ## Access the posterior distributions for further investigation head(distML <- data.frame(ML@indices))  ## For example, diagnostic plots using the bayesplot package:  ## distinguish chains nChains <- blavInspect(fit1, \"n.chains\") distML$Chain <- rep(1:nChains, each = nrow(distML) / nChains)  library(bayesplot) mcmc_pairs(distML, pars = c(\"BRMSEA\",\"BMc\",\"BGammaHat\",\"BCFI\",\"BTLI\"),            diag_fun = \"hist\") ## Indices are highly correlated across iterations in both chains  ## Compare to PPMC method distPPMC <- data.frame(PPMC@indices) distPPMC$Chain <- rep(1:nChains, each = nrow(distPPMC) / nChains) mcmc_pairs(distPPMC, pars = c(\"BRMSEA\",\"BMc\",\"BGammaHat\",\"BCFI\",\"BTLI\"),            diag_fun = \"dens\") ## nonlinear relation between BRMSEA, related to the floor effect of BRMSEA ## that Hoofs et al. found for larger (12-indicator) models  }"},{"path":"http://ecmerkle.github.io/blavaan/reference/blavInspect.html","id":null,"dir":"Reference","previous_headings":"","what":"Inspect or Extract Information from a fitted blavaan object — blavInspect","title":"Inspect or Extract Information from a fitted blavaan object — blavInspect","text":"blavInspect() blavTech() functions can used inspect/extract information stored inside (can computed ) fitted blavaan object. similar lavaan's lavInspect() function.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/blavInspect.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Inspect or Extract Information from a fitted blavaan object — blavInspect","text":"","code":"blavInspect(blavobject, what, ...)  blavTech(blavobject, what, ...)"},{"path":"http://ecmerkle.github.io/blavaan/reference/blavInspect.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Inspect or Extract Information from a fitted blavaan object — blavInspect","text":"blavobject object class blavaan. Character. needs inspected/extracted? See Details Bayes-specific options, see lavaan's lavInspect() additional options. Note: argument case-sensitive (everything converted lower case.) ... Default lavaan arguments supplied lavInspect(); see lavaan.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/blavInspect.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Inspect or Extract Information from a fitted blavaan object — blavInspect","text":"list Bayesian-specific values argument; additional values can found lavInspect() documentation. \"start\": list starting values chain, unless inits=\"jags\" used model estimation. Aliases: \"starting.values\", \"inits\". \"rhat\": parameter's potential scale reduction     factor convergence assessment. Can also use \"psrf\" instead \"rhat\" \"ac.10\": parameter's estimated lag-10 autocorrelation. \"neff\": parameters effective sample size, taking account autocorrelation. \"mcmc\": object class mcmc containing individual parameter draws MCMC run. Aliases: \"draws\", \"samples\". \"mcobj\": underlying run.jags stan object resulted MCMC run. \"n.chains\": number chains sampled. \"cp\": approach used estimating covariance     parameters (\"srs\" \"fa\"); relevant     using JAGS. \"dp\": Default prior distributions used type model parameter. \"postmode\": Estimated posterior mode free parameter. \"postmean\": Estimated posterior mean free parameter. \"postmedian\": Estimated posterior median free parameter. \"lvs\": object class mcmc containing latent   variable (factor score) draws. \"lvmeans\": matrix mean factor scores (rows   observations, columns variables). \"hpd\": HPD interval free parameter. case, additional argument level can supplied specify number (0,1) reflecting percentage interval.","code":""},{"path":[]},{"path":"http://ecmerkle.github.io/blavaan/reference/blavInspect.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Inspect or Extract Information from a fitted blavaan object — blavInspect","text":"","code":"if (FALSE) { # The Holzinger and Swineford (1939) example HS.model <- ' visual  =~ x1 + x2 + x3               textual =~ x4 + x5 + x6               speed   =~ x7 + x8 + x9 '  fit <- bcfa(HS.model, data = HolzingerSwineford1939,             bcontrol = list(method = \"rjparallel\"))  # extract information blavInspect(fit, \"psrf\") blavInspect(fit, \"hpd\", level = .9) }"},{"path":"http://ecmerkle.github.io/blavaan/reference/blavPredict.html","id":null,"dir":"Reference","previous_headings":"","what":"Predict the values of latent variables, observed variables, and missing variables. — blavPredict","title":"Predict the values of latent variables, observed variables, and missing variables. — blavPredict","text":"purpose blavPredict() function compute various   types model predictions, conditioned observed data. differs   somewhat lavPredict() lavaan.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/blavPredict.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Predict the values of latent variables, observed variables, and missing variables. — blavPredict","text":"","code":"blavPredict(object, newdata = NULL, type = \"lv\")"},{"path":"http://ecmerkle.github.io/blavaan/reference/blavPredict.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Predict the values of latent variables, observed variables, and missing variables. — blavPredict","text":"object object class blavaan. newdata Currently unused. (optional data.frame, containing variables data.frame used fitting model object.) type character string. \"lv\", estimated values latent variables model computed. \"ov\" \"yhat\", predicted means observed variables model computed. \"ypred\" \"ydist\", predicted values observed variables (including residual noise) computed. \"ymis\" \"ovmis\", model predicted values (\"imputations\") missing data computed. See details information.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/blavPredict.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Predict the values of latent variables, observed variables, and missing variables. — blavPredict","text":"predict() function calls blavPredict() function default options. , provide information type option. options work target=\"stan\", \"number samples\" defined number posterior samples across chains. type=\"lv\": posterior distribution latent variables conditioned observed variables. Returns matrix \"number samples\" rows \"number latent variables\" columns. type=\"yhat\": posterior expected value observed variables conditioned sampled latent variables. Returns list \"number samples\" entries, entry matrix rows observations columns observed variables. type=\"ypred\": posterior predictive distribution observed variables conditioned sampled latent variables (including residual variances). Returns list \"number samples\" entries, entry data frame rows observations columns observed variables. type=\"ymis\": posterior predictive distribution missing values conditioned observed variables. Returns matrix \"number samples\" rows \"number missing variables\" columns.","code":""},{"path":[]},{"path":"http://ecmerkle.github.io/blavaan/reference/blavPredict.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Predict the values of latent variables, observed variables, and missing variables. — blavPredict","text":"","code":"if (FALSE) { data(HolzingerSwineford1939)  ## fit model HS.model <- ' visual  =~ x1 + x2 + x3               textual =~ x4 + x5 + x6               speed   =~ x7 + x8 + x9 '  fit <- bcfa(HS.model, data = HolzingerSwineford1939, save.lvs = TRUE) head(blavPredict(fit)[,1:10]) # first 6 rows, first 10 columns head(blavPredict(fit, type = \"yhat\")[[1]])  ## multigroup models return a list of factor scores (one per group) mgfit <- bcfa(HS.model, data = HolzingerSwineford1939, group = \"school\",               group.equal = c(\"loadings\",\"intercepts\"), save.lvs = TRUE)  head(blavPredict(fit)[,1:10]) head(blavPredict(fit, type = \"ypred\")[[1]]) }"},{"path":"http://ecmerkle.github.io/blavaan/reference/blav_internal.html","id":null,"dir":"Reference","previous_headings":"","what":"blavaan internal functions — blav_internal","title":"blavaan internal functions — blav_internal","text":"Internal functions related Bayesian model estimation.   called user.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/blavaan-class.html","id":null,"dir":"Reference","previous_headings":"","what":"Class For Representing A (Fitted) Bayesian Latent Variable Model — blavaan-class","title":"Class For Representing A (Fitted) Bayesian Latent Variable Model — blavaan-class","text":"blavaan class contains lavaan   class, representing (fitted) Bayesian latent variable   model. contains description model specified user,   summary data, internal matrix representation, model   fitted, fitting results.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/blavaan-class.html","id":"objects-from-the-class","dir":"Reference","previous_headings":"","what":"Objects from the Class","title":"Class For Representing A (Fitted) Bayesian Latent Variable Model — blavaan-class","text":"Objects can created via   bcfa, bsem, bgrowth   blavaan functions.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/blavaan-class.html","id":"slots","dir":"Reference","previous_headings":"","what":"Slots","title":"Class For Representing A (Fitted) Bayesian Latent Variable Model — blavaan-class","text":"version: lavaan package version used create objects call: function call returned match.call(). timing: elapsed time (user+system) various parts       program list, including total time. Options: Named list options provided       user, filled-automatically. ParTable: Named list describing model parameters. Can coerced data.frame. documentation, called `parameter table'. pta: Named list containing parameter table attributes. Data: Object internal class \"Data\": information data. SampleStats: Object internal class \"SampleStats\": sample       statistics Model: Object internal class \"Model\":       internal (matrix) representation model Cache: List using objects try compute , reuse many times. Fit: Object internal class \"Fit\":       results fitting model. longer used. boot: List. Unused Bayesian models. optim: List. Information optimization. loglik: List. Information loglikelihood model (maximum likelihood used). implied: List. Model implied statistics. vcov: List. Information variance matrix (vcov) model parameters. test: List. Different test statistics. h1: List. Information unrestricted h1 model (available). baseline: List. Information baseline model (often independence model) (available). external: List. Includes Stan JAGS objects used MCMC.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/blavaan-class.html","id":"methods","dir":"Reference","previous_headings":"","what":"Methods","title":"Class For Representing A (Fitted) Bayesian Latent Variable Model — blavaan-class","text":"coef signature(object = \"blavaan\", type = \"free\"): Returns       estimates parameters model named numeric vector.       type=\"free\", free parameters returned.       type=\"user\", parameters listed parameter table       returned, including constrained fixed parameters. vcov signature(object = \"lavaan\"): returns       covariance matrix estimated parameters. show signature(object = \"blavaan\"): Print short summary       model fit summary signature(object = \"blavaan\", header = TRUE,      fit.measures = FALSE, estimates = TRUE, ci = TRUE,       standardized = FALSE, rsquare = FALSE, std.nox = FALSE,      psrf = TRUE, neff = FALSE, postmedian = FALSE, postmode = FALSE,      priors = TRUE, bf = FALSE, nd = 3L):       Print nice summary model estimates.       header = TRUE, header section (including fit measures)       printed.       fit.measures = TRUE, additional fit measures added       header section.       estimates = TRUE, print parameter estimates section.       ci = TRUE, add confidence intervals parameter estimates       section.       standardized = TRUE,       standardized solution also printed.  Note SEs       tests still based unstandardized estimates. Use       standardizedSolution obtain SEs test       statistics standardized estimates.       rsquare=TRUE, R-Square values dependent variables       model printed.       std.nox = TRUE, std.column contains       std.nox column parameterEstimates() output.       psrf = TRUE, potential scale reduction factors (Rhats)       printed.       neff = TRUE, effective sample sizes printed.       postmedian postmode TRUE, posterior       medians modes printed instead posterior means.       priors = TRUE, parameter prior distributions       printed.       bf = TRUE, Savage-Dickey approximations Bayes       factor printed certain parameters.       Nothing returned (use       lavInspect another extractor function       extract information fitted model).","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/blavaan-class.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Class For Representing A (Fitted) Bayesian Latent Variable Model — blavaan-class","text":"Edgar C. Merkle, Ellen Fitzsimmons, James Uanhoro, & Ben Goodrich (2021). Efficient Bayesian Structural Equation Modeling Stan. Journal Statistical Software, 100(6), 1-22. URL http://www.jstatsoft.org/v100/i06/. Edgar C. Merkle & Yves Rosseel (2018). blavaan: Bayesian Structural Equation Models via Parameter Expansion. Journal Statistical Software, 85(4), 1-30. URL http://www.jstatsoft.org/v85/i04/. Yves Rosseel (2012). lavaan: R Package Structural Equation Modeling. Journal Statistical Software, 48(2), 1-36. URL http://www.jstatsoft.org/v48/i02/.","code":""},{"path":[]},{"path":"http://ecmerkle.github.io/blavaan/reference/blavaan-class.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Class For Representing A (Fitted) Bayesian Latent Variable Model — blavaan-class","text":"","code":"if (FALSE) { HS.model <- ' visual  =~ x1 + x2 + x3               textual =~ x4 + x5 + x6               speed   =~ x7 + x8 + x9 '  fit <- bcfa(HS.model, data=HolzingerSwineford1939)  summary(fit, standardized=TRUE, fit.measures=TRUE, rsquare=TRUE) coef(fit) }"},{"path":"http://ecmerkle.github.io/blavaan/reference/blavaan.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit a Bayesian Latent Variable Model — blavaan","title":"Fit a Bayesian Latent Variable Model — blavaan","text":"Fit Bayesian latent variable model.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/blavaan.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit a Bayesian Latent Variable Model — blavaan","text":"","code":"blavaan(..., cp = \"srs\",     dp = NULL, n.chains = 3, burnin, sample,     adapt, mcmcfile = FALSE, mcmcextra = list(), inits = \"prior\",     convergence = \"manual\", target = \"stan\", save.lvs = FALSE,     wiggle = NULL, wiggle.sd = 0.1, prisamp = FALSE, jags.ic = FALSE,     seed = NULL, bcontrol = list())"},{"path":"http://ecmerkle.github.io/blavaan/reference/blavaan.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit a Bayesian Latent Variable Model — blavaan","text":"... Default lavaan arguments.  See lavaan. cp Handling prior distributions covariance parameters:   possible values \"srs\" (default) \"fa\".  Option   \"fa\" available target=\"jags\". dp Default prior distributions different types     parameters, typically result call dpriors().     See dpriors() help file information. n.chains Number desired MCMC chains. burnin Number burnin iterations, including adaptive   iterations. sample total number samples take burnin. adapt number adaptive iterations use start   simulation. mcmcfile TRUE, JAGS/Stan model data written   files (lavExport directory). Can also supply character   string, serves name directory files written. mcmcextra list potential names syntax (unavailable   target=\"stan\"),   monitor, data, llnsamp. syntax object text string containing extra   code insert JAGS/Stan model syntax. data object   list extra data send JAGS/Stan model. monitor object   character vector containing extra JAGS/Stan parameters   monitor. llnsamp object relevant models ordinal   variables, specifies number samples drawn approximate   model log-likelihood (larger numbers imply higher accuracy   longer time). log-likelihood specifically used compute   information criteria. inits character string, options currently     \"simple\", \"Mplus\", \"prior\" (default), \"jags\".  first two     cases, parameter values set though estimated via     ML (see lavaan).  starting parameter value     chain perturbed original values     addition random uniform noise.  \"prior\" used, starting     parameter values obtained based prior distributions     (also trying ensure starting values crash     model estimation).  \"jags\", starting values     specified JAGS choose values (probably     crash Stan targets). can also supply     list starting values chain, list format can     obtained , e.g., blavInspect(fit, \"inits\"). Finally,     can specify starting values similar way lavaan,     using lavaan start argument (see lavaan     documentation options ). case, also set     inits=\"simple\", aware starting values     used chain. convergence Useful target=\"jags\". \"auto\", parameters   sampled convergence achieved (via autorun.jags()).   case, arguments burnin sample passed   autorun.jags() startburnin startsample,   respectively. Otherwise, parameters   sampled specified user (run.jags   defaults). target Desired MCMC sampling, \"stan\" (pre-compiled   marginal approach)   default. Also available \"vb\", calls rstan function   vb(). options include \"jags\", \"stancond\",   \"stanclassic\", sample latent variables provide   greater functionality (syntax written \"fly\").   slower less efficient. save.lvs sampled latent variables (factor scores)   saved? Logical; defaults FALSE wiggle Labels equality-constrained parameters   \"approximately\" equal. Can also \"intercepts\", \"loadings\",   \"regressions\", \"means\". wiggle.sd prior sd (normal distribution) used approximate equality   constraints. Can one value, (target=\"stan\") numeric vector   values length wiggle. prisamp samples drawn prior, instead   posterior (target=\"stan\" )? Logical; defaults FALSE jags.ic DIC computed JAGS way, addition BUGS way? Logical; defaults FALSE seed vector length n.chains (target   \"jags\") integer (target \"stan\") containing random   seeds MCMC run. NULL, seeds chosen randomly. bcontrol list containing additional parameters passed     run.jags (autorun.jags) stan.  See manpage functions     overview additional parameters can set.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/blavaan.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit a Bayesian Latent Variable Model — blavaan","text":"object inherits class lavaan, several methods   available, including summary method.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/blavaan.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Fit a Bayesian Latent Variable Model — blavaan","text":"Edgar C. Merkle, Ellen Fitzsimmons, James Uanhoro, & Ben Goodrich (2021). Efficient Bayesian Structural Equation Modeling Stan. Journal Statistical Software, 100(6), 1-22. URL http://www.jstatsoft.org/v100/i06/. Edgar C. Merkle & Yves Rosseel (2018). blavaan: Bayesian Structural Equation Models via Parameter Expansion. Journal Statistical Software, 85(4), 1-30. URL http://www.jstatsoft.org/v85/i04/. Yves Rosseel (2012). lavaan: R Package Structural Equation Modeling. Journal Statistical Software, 48(2), 1-36. URL http://www.jstatsoft.org/v48/i02/.","code":""},{"path":[]},{"path":"http://ecmerkle.github.io/blavaan/reference/blavaan.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fit a Bayesian Latent Variable Model — blavaan","text":"","code":"if (FALSE) { # The Holzinger and Swineford (1939) example HS.model <- ' visual  =~ x1 + x2 + x3               textual =~ x4 + x5 + x6               speed   =~ x7 + x8 + x9 '  fit <- blavaan(HS.model, data=HolzingerSwineford1939,                auto.var=TRUE, auto.fix.first=TRUE,                auto.cov.lv.x=TRUE) summary(fit) coef(fit) }"},{"path":"http://ecmerkle.github.io/blavaan/reference/bsem.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit Structural Equation Models — bsem","title":"Fit Structural Equation Models — bsem","text":"Fit Structural Equation Model (SEM).","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/bsem.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit Structural Equation Models — bsem","text":"","code":"bsem(..., cp = \"srs\",      dp = NULL, n.chains = 3, burnin, sample,      adapt, mcmcfile = FALSE, mcmcextra = list(), inits = \"prior\",      convergence = \"manual\", target = \"stan\", save.lvs = FALSE,      wiggle = NULL, wiggle.sd = 0.1, prisamp = FALSE, jags.ic = FALSE,      seed = NULL, bcontrol = list())"},{"path":"http://ecmerkle.github.io/blavaan/reference/bsem.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit Structural Equation Models — bsem","text":"... Default lavaan arguments.  See lavaan. cp Handling prior distributions covariance parameters:   possible values \"srs\" (default) \"fa\". Option \"fa\" available target=\"jags\". dp Default prior distributions different types     parameters, typically result call dpriors().     See dpriors() help file information. n.chains Number desired MCMC chains. burnin Number burnin iterations, including adaptive   iterations. sample total number samples take burnin. adapt number adaptive iterations use start   simulation. mcmcfile TRUE, JAGS/Stan model written file   (lavExport directory). Can also supply character   string, serves name directory files written. mcmcextra list potential names syntax (unavailable   target=\"stan\"),   monitor, data, llnsamp. syntax object text string containing extra   code insert JAGS/Stan model syntax. data object   list extra data send JAGS/Stan model. monitor object   character vector containing extra JAGS/Stan parameters   monitor. llnsamp object relevant models ordinal   variables, specifies number samples drawn approximate   model log-likelihood (larger numbers imply higher accuracy   longer time). log-likelihood specifically used compute   information criteria. inits character string, options currently     \"simple\", \"Mplus\", \"prior\" (default), \"jags\".  first two     cases, parameter values set though estimated via     ML (see lavaan).  starting parameter value     chain perturbed original values     addition random uniform noise.  \"prior\" used, starting     parameter values obtained based prior distributions     (also trying ensure starting values crash     model estimation).  \"jags\", starting values     specified JAGS choose values (probably     crash Stan targets). can also supply     list starting values chain, list format can     obtained , e.g., blavInspect(fit, \"inits\"). Finally,     can specify starting values similar way lavaan,     using lavaan start argument (see lavaan     documentation options ). case, also set     inits=\"simple\", aware starting values     used chain. convergence Useful target=\"jags\". \"auto\", parameters   sampled convergence achieved (via autorun.jags()).   case, arguments burnin sample passed   autorun.jags() startburnin startsample,   respectively. Otherwise, parameters   sampled specified user (run.jags   defaults). target Desired MCMC sampling, \"stan\" (pre-compiled   marginal approach)   default. Also available \"vb\", calls rstan function   vb(). options include \"jags\", \"stancond\",   \"stanclassic\", sample latent variables provide   greater functionality (syntax written \"fly\").   slower less efficient. save.lvs sampled latent variables (factor scores) saved? Logical; defaults FALSE wiggle Labels equality-constrained parameters   \"approximately\" equal. Can also \"intercepts\", \"loadings\",   \"regressions\", \"means\". wiggle.sd prior sd (normal distribution) used approximate equality   constraints. Can one value, (target=\"stan\") numeric vector   values length wiggle. prisamp samples drawn prior, instead   posterior (target=\"stan\" )? Logical; defaults FALSE jags.ic DIC computed JAGS way, addition BUGS way? Logical; defaults FALSE seed vector length n.chains (target   \"jags\") integer (target \"stan\") containing random   seeds MCMC run. NULL, seeds chosen randomly. bcontrol list containing additional parameters passed     run.jags (autorun.jags) stan.  See manpage functions     overview additional parameters can set.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/bsem.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fit Structural Equation Models — bsem","text":"bsem function wrapper general     blavaan function, using following default     lavaan arguments:     int.ov.free = TRUE, int.lv.free = FALSE,     auto.fix.first = TRUE (unless std.lv = TRUE),     auto.fix.single = TRUE, auto.var = TRUE,     auto.cov.lv.x = TRUE,     auto.th = TRUE, auto.delta = TRUE,     auto.cov.y = TRUE.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/bsem.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit Structural Equation Models — bsem","text":"object class lavaan, several methods   available, including summary method.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/bsem.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Fit Structural Equation Models — bsem","text":"Edgar C. Merkle, Ellen Fitzsimmons, James Uanhoro, & Ben Goodrich (2021). Efficient Bayesian Structural Equation Modeling Stan. Journal Statistical Software, 100(6), 1-22. URL http://www.jstatsoft.org/v100/i06/. Edgar C. Merkle & Yves Rosseel (2018). blavaan: Bayesian Structural Equation Models via Parameter Expansion. Journal Statistical Software, 85(4), 1-30. URL http://www.jstatsoft.org/v85/i04/. Yves Rosseel (2012). lavaan: R Package Structural Equation Modeling. Journal Statistical Software, 48(2), 1-36. URL http://www.jstatsoft.org/v48/i02/.","code":""},{"path":[]},{"path":"http://ecmerkle.github.io/blavaan/reference/bsem.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fit Structural Equation Models — bsem","text":"","code":"if (FALSE) { ## The industrialization and Political Democracy Example ## Bollen (1989), page 332 model <- '   # latent variable definitions      ind60 =~ x1 + x2 + x3      dem60 =~ y1 + a*y2 + b*y3 + c*y4      dem65 =~ y5 + a*y6 + b*y7 + c*y8    # regressions     dem60 ~ ind60     dem65 ~ ind60 + dem60    # residual correlations     y1 ~~ y5     y2 ~~ y4 + y6     y3 ~~ y7     y4 ~~ y8     y6 ~~ y8 '  ## unique priors for mv intercepts; parallel chains fit <- bsem(model, data=PoliticalDemocracy,             dp=dpriors(nu=\"normal(5,10)\")) summary(fit) }"},{"path":"http://ecmerkle.github.io/blavaan/reference/dpriors.html","id":null,"dir":"Reference","previous_headings":"","what":"Specify default prior distributions — dpriors","title":"Specify default prior distributions — dpriors","text":"Specify \"default\" prior distributions classes model parameters.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/dpriors.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Specify default prior distributions — dpriors","text":"","code":"dpriors(..., target = \"stan\")"},{"path":"http://ecmerkle.github.io/blavaan/reference/dpriors.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Specify default prior distributions — dpriors","text":"... Parameter names paired desired priors (see example     ). target priors jags, stan (default), stanclassic?","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/dpriors.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Specify default prior distributions — dpriors","text":"prior distributions always use JAGS/Stan syntax parameterizations.   example, normal distribution JAGS parameterized via   precision, whereas normal distribution Stan parameterized   via standard deviation. User-specified prior distributions specific parameters   (using prior() operator within model syntax) always   override prior distributions set using dpriors(). parameter names : nu: Observed variable intercept parameters. alpha: Latent variable intercept parameters. lambda: Loading parameters. beta: Regression parameters. itheta: Observed variable precision parameters. ipsi: Latent variable precision parameters. rho: Correlation parameters (associated covariance parameters). ibpsi: Inverse covariance matrix     blocks latent variables (used target=\"jags\"). tau: Threshold parameters (ordinal data ). delta: Delta parameters (ordinal data ).","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/dpriors.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Specify default prior distributions — dpriors","text":"character vector containing prior distribution type parameter.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/dpriors.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Specify default prior distributions — dpriors","text":"Edgar C. Merkle, Ellen Fitzsimmons, James Uanhoro, & Ben Goodrich (2021). Efficient Bayesian Structural Equation Modeling Stan. Journal Statistical Software, 100(6), 1-22. URL http://www.jstatsoft.org/v100/i06/. Edgar C. Merkle & Yves Rosseel (2018). blavaan: Bayesian Structural Equation Models via Parameter Expansion. Journal Statistical Software, 85(4), 1-30. URL http://www.jstatsoft.org/v85/i04/.","code":""},{"path":[]},{"path":"http://ecmerkle.github.io/blavaan/reference/dpriors.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Specify default prior distributions — dpriors","text":"","code":"dpriors(nu = \"normal(0,10)\", lambda = \"normal(0,1)\", rho = \"beta(3,3)\") #>                nu             alpha            lambda              beta  #>    \"normal(0,10)\"    \"normal(0,10)\"     \"normal(0,1)\"    \"normal(0,10)\"  #>             theta               psi               rho             ibpsi  #> \"gamma(1,.5)[sd]\" \"gamma(1,.5)[sd]\"       \"beta(3,3)\" \"wishart(3,iden)\"  #>               tau  #>   \"normal(0,1.5)\""},{"path":"http://ecmerkle.github.io/blavaan/reference/plot.blavaan.html","id":null,"dir":"Reference","previous_headings":"","what":"blavaan traceplots and more — plot.blavaan","title":"blavaan traceplots and more — plot.blavaan","text":"Convenience functions create plots blavaan objects, via bayesplot package.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/plot.blavaan.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"blavaan traceplots and more — plot.blavaan","text":"","code":"# S3 method for blavaan plot(x, pars = NULL, plot.type = \"trace\", showplot = TRUE, ...)"},{"path":"http://ecmerkle.github.io/blavaan/reference/plot.blavaan.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"blavaan traceplots and more — plot.blavaan","text":"x object class blavaan. pars Parameter numbers plot, numbers correspond order parameters reported coef() (also shown 'free' column parTable). numbers provided, free parameters plotted. plot.type type plot desired. name MCMC function, without mcmc_ prefix. showplot plot sent graphic device? Defaults TRUE. ... arguments sent bayesplot function.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/plot.blavaan.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"blavaan traceplots and more — plot.blavaan","text":"previous versions blavaan, plotting functionality   handled separately JAGS Stan (using plot functionality   packages runjags rstan, respectively). uniformity,   plotting functionality now handled bayesplot. users desire   additional functionality immediately available, can extract matrix MCMC draws via .matrix(blavInspect(x, 'mcmc')).","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/plot.blavaan.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"blavaan traceplots and more — plot.blavaan","text":"invisible ggplot object , desired, can customized.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/plot.blavaan.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"blavaan traceplots and more — plot.blavaan","text":"","code":"if (FALSE) { HS.model <- ' visual  =~ x1 + x2 + x3               textual =~ x4 + x5 + x6               speed   =~ x7 + x8 + x9 '  fit <- bcfa(HS.model, data=HolzingerSwineford1939)  # trace plots of free loadings plot(fit, pars = 1:6) }"},{"path":"http://ecmerkle.github.io/blavaan/reference/ppmc.html","id":null,"dir":"Reference","previous_headings":"","what":"Posterior Predictive Model Checks — ppmc","title":"Posterior Predictive Model Checks — ppmc","text":"function allows users conduct posterior predictive model check assess global local fit latent variable model using discrepancy function can applied lavaan model.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/ppmc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Posterior Predictive Model Checks — ppmc","text":"","code":"ppmc(object, thin = 1, fit.measures = c(\"srmr\",\"chisq\"), discFUN = NULL,      conditional = FALSE)  # S4 method for blavPPMC summary(object, ...)  summary.ppmc(object, discFUN, dist = c(\"obs\",\"sim\"),         central.tendency = c(\"mean\",\"median\",\"mode\"),         hpd = TRUE, prob = .95, to.data.frame = FALSE, diag = TRUE,         sort.by = NULL, decreasing = FALSE)  # S3 method for blavPPMC plot(x, ..., discFUN, element, central.tendency = \"\",      hpd = TRUE, prob = .95, nd = 3)  # S3 method for blavPPMC hist(x, ..., discFUN, element, hpd = TRUE, prob = .95,      printLegend = TRUE, legendArgs = list(x = \"topleft\"),      densityArgs = list(), nd = 3)  # S3 method for blavPPMC pairs(x, discFUN, horInd = 1:DIM, verInd = 1:DIM,       printLegend = FALSE, ...)"},{"path":"http://ecmerkle.github.io/blavaan/reference/ppmc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Posterior Predictive Model Checks — ppmc","text":"object,x object class blavaan. thin Optional integer indicating much thin chain.     Default 1L, indicating thin chains object. fit.measures character vector indicating names global     discrepancy measures returned fitMeasures. Ignored     unless discFUN NULL, users may include     fitMeasures list discrepancy functions     discFUN. ordinal models, \"logl\" \"chisq\"     computations done via lavaan. discFUN function, list functions, can     called object class lavaan. function     must return object whose mode numeric, may     vector, matrix, multidimensional array.     summary plot methods, discFUN     character indicating discrepancy function     summarize. conditional logical indicating whether , artificial data     generation, condition estimated latent   variables. Requires model estimated save.lvs = TRUE. element numeric character indicating index (    dimension discFUN output, multiple) plot. horInd,verInd Similar element, numeric     character vector indicating indices matrix plot     scatterplot matrix. horInd==verInd, histograms     plotted upper triangle. dist character indicating whether summarize distribution     discFUN either observed simulated data. central.tendency character indicating statistics     used characterize location posterior (predictive)     distribution. default, 3 statistics returned     summary method, none plot method. posterior     mean labeled EAP expected posteriori estimate,     mode labeled MAP modal posteriori estimate. hpd logical indicating whether calculate highest     posterior density (HPD) credible interval discFUN. prob \"confidence\" level credible interval(s). nd number digits print scatterplot. .data.frame logical indicating whether summary     symmetric 2-dimensional matrix returned discFUN     unique elements stored rows data.frame can sorted     convenience identifying large discrepancies. discFUN     returns asymmetric 2-dimensional matrix, list matrices     returned summary can also converted data.frame. diag Passed lower.tri .data.frame=TRUE. sort.character. summary returns data.frame,     can sorted column name using order. Note     discFUN returns asymmetric 2-dimensional matrix,     data.frame returned list sorted     independently, rows unlikely consistent across     summary statistics. decreasing Passed order     !.null(sort.). ... Additional graphical parameters     passed plot.default. printLegend logical. TRUE (default), legend     printed histogram legendArgs list arguments passed     legend function.  default argument list     placing legend top-left figure. densityArgs list arguments passed     density function, used obtain densities     hist method.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/ppmc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Posterior Predictive Model Checks — ppmc","text":"S4 object class blavPPMC consisting 5 list slots: @discFUN user-supplied discFUN, call     fitMeasures returns fit.measures. @dims dimensions object returned     discFUN. @PPP posterior predictive p value     discFUN element. @obsDist posterior distribution realize values     discFUN applied observed data. @simDist posterior predictive distribution values     discFUN applied data simulated posterior samples. summary() method returns numeric vector discFUN    returns scalar, data.frame one discrepancy function per row     discFUN returns numeric vector, list     one summary statistic per element discFUN returns matrix    multidimensional array.   plot pairs methods invisibly return NULL,   printing plot (scatterplot matrix) current device.   hist method invisibly returns list arguments can   passed function list element named.  Users   can edit arguments list customize histograms.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/ppmc.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Posterior Predictive Model Checks — ppmc","text":"Terrence D. Jorgensen (University Amsterdam; TJorgensen314@gmail.com)","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/ppmc.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Posterior Predictive Model Checks — ppmc","text":"Levy, R. (2011). Bayesian data--model fit assessment structural equation   modeling. Structural Equation Modeling, 18(4), 663--685.   doi:10.1080/10705511.2011.607723","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/ppmc.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Posterior Predictive Model Checks — ppmc","text":"","code":"if (FALSE) { HS.model <- ' visual  =~ x1 + x2 + x3               textual =~ x4 + x5 + x6               speed   =~ x7 + x8 + x9 ' ## fit single-group model fit <- bcfa(HS.model, data = HolzingerSwineford1939,              n.chains = 2, burnin = 1000, sample = 500) ## fit multigroup model fitg <- bcfa(HS.model, data = HolzingerSwineford1939,              n.chains = 2, burnin = 1000, sample = 500, group = \"school\")   ## Use fit.measures as a shortcut for global fitMeasures only ## - Note that indices calculated from the \"df\" are only appropriate under ##   noninformative priors, such that pD approximates the number of estimated ##   parameters counted under ML estimation; incremental fit indices ##   introduce further complications)  AFIs <- ppmc(fit, thin = 10, fit.measures = c(\"srmr\",\"chisq\",\"rmsea\",\"cfi\")) summary(AFIs)                 # summarize the whole vector in a data.frame hist(AFIs, element = \"rmsea\") # only plot one discrepancy function at a time plot(AFIs, element = \"srmr\")   ## define a list of custom discrepancy functions ## - (global) fit measures ## - (local) standardized residuals  discFUN <- list(global = function(fit) {                   fitMeasures(fit, fit.measures = c(\"cfi\",\"rmsea\",\"srmr\",\"chisq\"))                 },                 std.cov.resid = function(fit) lavResiduals(fit, zstat = FALSE,                                                            summary = FALSE)$cov,                 std.mean.resid = function(fit) lavResiduals(fit, zstat = FALSE,                                                             summary = FALSE)$mean) out1g <- ppmc(fit, discFUN = discFUN)  ## summarize first discrepancy by default (fit indices) summary(out1g) ## some model-implied correlations look systematically over/underestimated summary(out1g, discFUN = \"std.cov.resid\", central.tendency = \"EAP\") hist(out1g, discFUN = \"std.cov.resid\", element = c(1, 7)) plot(out1g, discFUN = \"std.cov.resid\", element = c(\"x1\",\"x7\")) ## For ease of investigation, optionally export summary as a data.frame, ## sorted by size of average residual summary(out1g, discFUN = \"std.cov.resid\", central.tendency = \"EAP\",         to.data.frame = TRUE, sort.by = \"EAP\") ## or sorted by size of PPP summary(out1g, discFUN = \"std.cov.resid\", central.tendency = \"EAP\",         to.data.frame = TRUE, sort.by = \"PPP_sim_LessThan_obs\")  ## define a list of custom discrepancy functions for multiple groups ## (return each group's numeric output using a different function)  disc2g <- list(global = function(fit) {                  fitMeasures(fit, fit.measures = c(\"cfi\",\"rmsea\",\"mfi\",\"srmr\",\"chisq\"))                },                cor.resid1 = function(fit) lavResiduals(fit, zstat = FALSE,                                                        type = \"cor.bollen\",                                                        summary = FALSE)[[1]]$cov,                cor.resid2 = function(fit) lavResiduals(fit, zstat = FALSE,                                                        type = \"cor.bollen\",                                                        summary = FALSE)[[2]]$cov) out2g <- ppmc(fitg, discFUN = disc2g, thin = 2) ## some residuals look like a bigger problem in one group than another pairs(out2g, discFUN = \"cor.resid1\", horInd = 1:3, verInd = 7:9) # group 1 pairs(out2g, discFUN = \"cor.resid2\", horInd = 1:3, verInd = 7:9) # group 2  ## print all to file: must be a LARGE picture. First group 1 ... png(\"cor.resid1.png\", width = 1600, height = 1200) pairs(out2g, discFUN = \"cor.resid1\") dev.off() ## ... then group 2 png(\"cor.resid2.png\", width = 1600, height = 1200) pairs(out2g, discFUN = \"cor.resid2\") dev.off() }"},{"path":"http://ecmerkle.github.io/blavaan/reference/standardizedPosterior.html","id":null,"dir":"Reference","previous_headings":"","what":"Standardized Posterior — standardizedPosterior","title":"Standardized Posterior — standardizedPosterior","text":"Standardized posterior distribution latent variable model.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/standardizedPosterior.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Standardized Posterior — standardizedPosterior","text":"","code":"standardizedPosterior(object, ...)"},{"path":"http://ecmerkle.github.io/blavaan/reference/standardizedPosterior.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Standardized Posterior — standardizedPosterior","text":"object object class blavaan. ... Additional arguments passed lavaan's   standardizedSolution()","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/standardizedPosterior.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Standardized Posterior — standardizedPosterior","text":"allowed standardizedSolution() arguments type, cov.std, remove.eq, remove.ineq, remove.def. arguments immediately suited posterior distributions.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/standardizedPosterior.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Standardized Posterior — standardizedPosterior","text":"matrix containing standardized posterior draws, rows draws   columns parameters.","code":""},{"path":"http://ecmerkle.github.io/blavaan/reference/standardizedPosterior.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Standardized Posterior — standardizedPosterior","text":"","code":"if (FALSE) { model <- '    # latent variable definitions      ind60 =~ x1 + x2 + x3      dem60 =~ y1 + a*y2 + b*y3 + c*y4      dem65 =~ y5 + a*y6 + b*y7 + c*y8    # regressions     dem60 ~ ind60     dem65 ~ ind60 + dem60    # residual correlations     y1 ~~ y5     y2 ~~ y4 + y6     y3 ~~ y7     y4 ~~ y8     y6 ~~ y8 '  fit <- bsem(model, data=PoliticalDemocracy,             dp=dpriors(nu=\"dnorm(5,1e-2)\"),             bcontrol=list(method=\"rjparallel\"))  standardizedPosterior(fit) }"},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"version-04-1","dir":"Changelog","previous_headings":"","what":"Version 0.4-1","title":"Version 0.4-1","text":"CRAN release: 2022-01-27","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"new-features-0-4-1","dir":"Changelog","previous_headings":"","what":"New features","title":"Version 0.4-1","text":"Functionality ordinal observed variables now available. models missing data, posterior summaries sped (log-likelihood computations now done Stan).","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"bugsglitches-discovered-after-the-release-0-4-1","dir":"Changelog","previous_headings":"","what":"Bugs/glitches discovered after the release:","title":"Version 0.4-1","text":"blavPredict(, type=“ymis”) working models ordinal variables blavFitIndices() ppmc() working models ordinal variables, may indicate excessively bad fit blavFitIndices(, rescale=“mcmc”) fails","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"version-03-18","dir":"Changelog","previous_headings":"","what":"Version 0.3-18","title":"Version 0.3-18","text":"CRAN release: 2021-11-27","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"new-features-0-3-18","dir":"Changelog","previous_headings":"","what":"New features","title":"Version 0.3-18","text":"version adds reference new JSS paper, including DOI, corrects inconsistent version dependency. changes compared 0.3-17.","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"version-03-17","dir":"Changelog","previous_headings":"","what":"Version 0.3-17","title":"Version 0.3-17","text":"CRAN release: 2021-07-19","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"new-features-0-3-17","dir":"Changelog","previous_headings":"","what":"New features","title":"Version 0.3-17","text":"maintenance release correct major bugs previous version.","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"version-03-16","dir":"Changelog","previous_headings":"","what":"Version 0.3-16","title":"Version 0.3-16","text":"CRAN release: 2021-07-11","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"new-features-0-3-16","dir":"Changelog","previous_headings":"","what":"New features","title":"Version 0.3-16","text":"blavPredict() function added predicting latent variables missing data. posterior summaries sped . (fitMeasures available test=“none”) bug fixes previous version.","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"bugsglitches-discovered-after-the-release-0-3-16","dir":"Changelog","previous_headings":"","what":"Bugs/glitches discovered after the release:","title":"Version 0.3-16","text":"certain models missing data, ppp-values incorrect (sometimes equaling 1.0). target=“stan”, multiple group models fail cases missing observed variables (reported DeAnne Hunter).","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"version-03-15","dir":"Changelog","previous_headings":"","what":"Version 0.3-15","title":"Version 0.3-15","text":"CRAN release: 2021-02-19","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"new-features-0-3-15","dir":"Changelog","previous_headings":"","what":"New features","title":"Version 0.3-15","text":"Added S3 summary() method ppmc Posterior intervals summary() bug fixed","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"bugsglitches-discovered-after-the-release-0-3-15","dir":"Changelog","previous_headings":"","what":"Bugs/glitches discovered after the release:","title":"Version 0.3-15","text":"summary() method ppmc() fitIndices() always work correctly. Jacobian incorrect target=“stan”, (non-default) priors placed precisions variances instead standard deviations. impact estimates posterior variability (reported Roy Levy).","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"version-03-14","dir":"Changelog","previous_headings":"","what":"Version 0.3-14","title":"Version 0.3-14","text":"CRAN release: 2021-01-20 (version 0.3-13 violated CRAN policy)","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"new-features-0-3-14","dir":"Changelog","previous_headings":"","what":"New features","title":"Version 0.3-14","text":"maintenance release response change package Matrix.","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"bugsglitches-discovered-after-the-release-0-3-14","dir":"Changelog","previous_headings":"","what":"Bugs/glitches discovered after the release:","title":"Version 0.3-14","text":"Posterior intervals NA summary(). Workarounds use parameterEstimates() (intervals assuming posterior normality) compute using posterior samples (`blavInspect(fit, “mcmc”)’)","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"version-03-12","dir":"Changelog","previous_headings":"","what":"Version 0.3-12","title":"Version 0.3-12","text":"CRAN release: 2020-11-12 (version 0.3-11 failed Windows CRAN checks)","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"new-features-0-3-12","dir":"Changelog","previous_headings":"","what":"New features","title":"Version 0.3-12","text":"vector values wiggle.sd allowed different priors approximate equality constraints logical argument “prisamp” added, sampling model’s prior target=“stan”, lkj prior used unrestricted lv correlation matrices default priors conditional approaches (targets jags stanclassic) revert placed precisions (opposed SDs), improvement sampling efficiency","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"version-03-10","dir":"Changelog","previous_headings":"","what":"Version 0.3-10","title":"Version 0.3-10","text":"CRAN release: 2020-08-03","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"new-features-0-3-10","dir":"Changelog","previous_headings":"","what":"New features","title":"Version 0.3-10","text":"save.lvs=TRUE works missing data target=“stan” new arguments “wiggle” “wiggle.sd” approximate equality constraints target=“stan”","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"bugsglitches-discovered-after-the-release-0-3-10","dir":"Changelog","previous_headings":"","what":"Bugs/glitches discovered after the release:","title":"Version 0.3-10","text":"plot labels target=“stan” sometimes incorrect (displaying parameter different panel label). complex equality constraints sometimes ignored (target=“jags” “stanclassic”) equality constraints std.lv=TRUE sometimes fail (target=“stan”) placing priors variances precisions yields incorrect results (target=“stan”; reported Roy Levy)","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"version-03-9","dir":"Changelog","previous_headings":"","what":"Version 0.3-9","title":"Version 0.3-9","text":"CRAN release: 2020-03-09","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"new-features-0-3-9","dir":"Changelog","previous_headings":"","what":"New features","title":"Version 0.3-9","text":"improvements save.lvs=TRUE target=“stan”. target=“stancond” added, experimental, noncentered Stan approach. bug fixes prior settings std.lv target=“stan”, defined parameters.","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"bugsglitches-discovered-after-the-release-0-3-9","dir":"Changelog","previous_headings":"","what":"Bugs/glitches discovered after the release:","title":"Version 0.3-9","text":"target=“stan”, problems sampling lvs multiple groups missing data. Errors blavCompare() blavFitIndices() due version updates packages. target=“stan”, models std.lv=TRUE converge.","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"version-03-8","dir":"Changelog","previous_headings":"","what":"Version 0.3-8","title":"Version 0.3-8","text":"CRAN release: 2019-11-19","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"new-features-0-3-8","dir":"Changelog","previous_headings":"","what":"New features","title":"Version 0.3-8","text":"post-estimation, posterior predictive computations sped considerably. 0.3-7 bugs fixed.","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"bugsglitches-discovered-after-the-release-0-3-8","dir":"Changelog","previous_headings":"","what":"Bugs/glitches discovered after the release:","title":"Version 0.3-8","text":"target=“stan” std.lv=TRUE, estimation fails certain (growth) models (reported Mauricio Garnier-Villareal). defined variables fail target=“jags” “stanclassic” (reported Mariëlle Zondervan-Zwijnenburg). User-specified priors sometimes placed wrong parameter, related 0.3-7 bug (reported Mauricio Garnier-Villareal). dpriors() issue 0.3-3 remains.","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"version-03-7","dir":"Changelog","previous_headings":"","what":"Version 0.3-7","title":"Version 0.3-7","text":"CRAN release: 2019-09-27","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"new-features-0-3-7","dir":"Changelog","previous_headings":"","what":"New features","title":"Version 0.3-7","text":"target=“stan”, gamma priors can now placed user’s choice variances, standard deviations, precisions. plot() now works uniformly across Stan JAGS, relying bayesplot. post-MCMC parallelization now handled via future.apply package (requires extra “plan” command user, works windows). 0.3-6 bugs fixed.","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"bugsglitches-discovered-after-the-release-0-3-7","dir":"Changelog","previous_headings":"","what":"Bugs/glitches discovered after the release:","title":"Version 0.3-7","text":"blavInspect(, ‘lvmeans’) returns rows wrong order target=“stan” (reported Mehdi Momen). User-specified priors sometimes placed wrong parameter, target=“stan” (reported Enrico Toffalini). dpriors() issue 0.3-3 remains.","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"version-03-6","dir":"Changelog","previous_headings":"","what":"Version 0.3-6","title":"Version 0.3-6","text":"CRAN release: 2019-08-08","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"new-features-0-3-6","dir":"Changelog","previous_headings":"","what":"New features","title":"Version 0.3-6","text":"fixes stan plot bug 0.3-5.","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"bugsglitches-discovered-after-the-release-0-3-6","dir":"Changelog","previous_headings":"","what":"Bugs/glitches discovered after the release:","title":"Version 0.3-6","text":"user-specified priors correlation parameters silently ignored target=“stan” (reported James Uanhoro). save.lvs=TRUE work target=“stan” (reported Mauricio Garnier-Villareal). dpriors() issue 0.3-3 remains.","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"version-03-5","dir":"Changelog","previous_headings":"","what":"Version 0.3-5","title":"Version 0.3-5","text":"CRAN release: 2019-08-03","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"new-features-0-3-5","dir":"Changelog","previous_headings":"","what":"New features","title":"Version 0.3-5","text":"target=“stan” now default, using pre-compiled Stan model instead “fly” code. ppmc() function added Terrence Jorgensen, facilitating posterior predictive checks. default priors changed gamma precisions gamma standard deviations.","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"bugsglitches-discovered-after-the-release-0-3-5","dir":"Changelog","previous_headings":"","what":"Bugs/glitches discovered after the release:","title":"Version 0.3-5","text":"Stan plot method silently fails (reported Matt Yalch). dpriors() issue 0.3-3 remains.","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"version-03-4","dir":"Changelog","previous_headings":"","what":"Version 0.3-4","title":"Version 0.3-4","text":"CRAN release: 2019-01-11","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"new-features-0-3-4","dir":"Changelog","previous_headings":"","what":"New features","title":"Version 0.3-4","text":"Add function standardizedPosterior() standardizing posterior draws. Turn posterior modes target=“jags”, due conflict current versions runjags modeest. Rearrange posterior predictive internals.","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"bugsglitches-discovered-after-the-release-0-3-4","dir":"Changelog","previous_headings":"","what":"Bugs/glitches discovered after the release:","title":"Version 0.3-4","text":"dpriors() issue 0.3-3 remains. target=“jags”, lv means obtained blavInspect() (via argument ‘lvmeans’) incorrect. (reported Mauricio Garnier-Villareal) Use plot() target=“stan” causes problems future blavInspect() calls.","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"version-03-3","dir":"Changelog","previous_headings":"","what":"Version 0.3-3","title":"Version 0.3-3","text":"CRAN release: 2018-10-31","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"new-features-0-3-3","dir":"Changelog","previous_headings":"","what":"New features","title":"Version 0.3-3","text":"convergence=“auto”, max time previously 5 min (undocumented). now Inf. Axis labels (parameter names) now sensible convergence plots. Relative effective sample size now used compute loo/waic SEs, SEs now returned via fitMeasures(). Added unit testing via package testthat. Fixed bugs 0.3-2 (exception identity assignments using ‘:=’)","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"bugsglitches-discovered-after-the-release-0-3-3","dir":"Changelog","previous_headings":"","what":"Bugs/glitches discovered after the release:","title":"Version 0.3-3","text":"Use ‘dpriors()’: observed variable precisions assigned latent precision (ipsi) prior; latent means assigned observed mean (nu) prior.","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"version-03-2","dir":"Changelog","previous_headings":"","what":"Version 0.3-2","title":"Version 0.3-2","text":"CRAN release: 2018-06-10","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"new-features-0-3-2","dir":"Changelog","previous_headings":"","what":"New features","title":"Version 0.3-2","text":"Conditional (latent variables) information criteria available save.lvs = TRUE. Experimental function ‘blavFitIndices()’ added Bayesian versions SEM metrics, contributed Terrence Jorgensen. blavaan “intelligently” chooses target, either runjags rstan () installed. Fixed bugs 0.3-1, especially related missing data Stan.","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"bugsglitches-discovered-after-the-release-0-3-2","dir":"Changelog","previous_headings":"","what":"Bugs/glitches discovered after the release:","title":"Version 0.3-2","text":"Errors Stan models std.lv=TRUE, observed variable regressed latent variable (reported Bo Zhang). Error identity assignments using ‘:=’ (reported Marco Tullio Liuzza). Explicitly adding argument ‘.fit=TRUE’ fails (reported Esteban Montenegro).","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"version-03-1","dir":"Changelog","previous_headings":"","what":"Version 0.3-1","title":"Version 0.3-1","text":"CRAN release: 2018-01-12","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"new-features-0-3-1","dir":"Changelog","previous_headings":"","what":"New features","title":"Version 0.3-1","text":"Stan export now supported; use target=“stan”. Improved handling complex models, including growth/change models. Sampling factor scores (lvs) available via ‘save.lvs=TRUE’. Samples/means can obtained supplying arguments ‘lvs’ ‘lvmeans’ ‘blavInspect()’. Fixed bugs 0.2-4.","code":""},{"path":"http://ecmerkle.github.io/blavaan/news/index.html","id":"bugsglitches-discovered-after-the-release-0-3-1","dir":"Changelog","previous_headings":"","what":"Bugs/glitches discovered after the release:","title":"Version 0.3-1","text":"Errors Stan models missing data, exogenous (“x”) variables. Errors multi-group Stan models std.lv=TRUE.","code":""}]

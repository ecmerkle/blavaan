<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Specifying Prior Distributions • blavaan</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Specifying Prior Distributions">
<meta property="og:description" content="blavaan">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">blavaan</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3-17.785</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Examples
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/converge.html">Estimation and Convergence</a>
    </li>
    <li>
      <a href="../articles/prior.html">Prior Distributions</a>
    </li>
    <li>
      <a href="../articles/invariance.html">Measurement Invariance</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="../articles/resources.html">Resources</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ecmerkle/blavaan">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://groups.google.com/d/forum/blavaan">
    <span class="fa fa-users"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="prior_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Specifying Prior Distributions</h1>
            
      
      
      <div class="hidden name"><code>prior.Rmd</code></div>

    </div>

    
    
<p>There are two ways to specify prior distributions in blavaan. First, each type of model parameter has a default prior distribution that may or may not be suitable for your specific situation. You are free to modify the defaults. Second, the priors for individual model parameters can be specified in the model syntax. Each is discussed below.</p>
<div id="defaults" class="section level3">
<h3 class="hasAnchor">
<a href="#defaults" class="anchor"></a>Defaults</h3>
<p>The default priors can be seen via</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dpriors.html">dpriors</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code>##                nu             alpha            lambda              beta 
##    "normal(0,32)"    "normal(0,10)"    "normal(0,10)"    "normal(0,10)" 
##             theta               psi               rho             ibpsi 
## "gamma(1,.5)[sd]" "gamma(1,.5)[sd]"       "beta(1,1)" "wishart(3,iden)" 
##               tau             delta 
##  "normal(0,3.16)" "gamma(1,.5)[sd]"</code></pre>
<p>It is important to note that these prior distributions correspond to Stan parameterizations. These are similar to R parameterizations but not necessarily exactly the same. The Greek(ish) names above correspond to the following parameter types (where MV is manifest/observed variable and LV is latent variable):</p>
<pre><code>##                  nu               alpha              lambda                beta 
##      "MV intercept"      "LV intercept"           "Loading"        "Regression" 
##               theta                 psi                 rho               ibpsi 
##      "MV precision"      "LV precision"       "Correlation" "Covariance matrix"</code></pre>
<p>For <code>target = "stan"</code> (the default), priors are currently restricted to one distribution per parameter type. You can change the prior distribution parameters (for example, the mean and standard deviation of a normal), but you cannot change the prior distribution type. The only exceptions here are the “theta” and “psi” parameters: for those, you can use the modifiers “[sd]”, “[var]”, or “[prec]” to specify whether you want the priors to apply to the standard deviation, variance, or precision. If you require more flexibility in prior specification, you change the target to either <code>"stanclassic"</code> (the old Stan approach) or <code>"jags"</code> (the JAGS approach). Alternatively, you can export the Stan model via <code>mcmcfile = TRUE</code>, edit the file as needed, then fit it via the rstan package.</p>
<p>To modify prior distributions, we could simply supply a new text string to <code><a href="../reference/dpriors.html">dpriors()</a></code> like this:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mydp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dpriors.html">dpriors</a></span><span class="op">(</span>lambda<span class="op">=</span><span class="st">"normal(1,2)"</span><span class="op">)</span>
<span class="va">mydp</span></code></pre></div>
<pre><code>##                nu             alpha            lambda              beta 
##    "normal(0,32)"    "normal(0,10)"     "normal(1,2)"    "normal(0,10)" 
##             theta               psi               rho             ibpsi 
## "gamma(1,.5)[sd]" "gamma(1,.5)[sd]"       "beta(1,1)" "wishart(3,iden)" 
##               tau             delta 
##  "normal(0,3.16)" "gamma(1,.5)[sd]"</code></pre>
<p>so that the default prior for loadings is now normal with mean 1 and standard deviation 2, and the rest of the parameters remain at the original defaults. The next time we estimate a model (via <code><a href="../reference/bsem.html">bsem()</a></code>, <code><a href="../reference/bcfa.html">bcfa()</a></code>, <code><a href="../reference/bgrowth.html">bgrowth()</a></code>, or <code><a href="../reference/blavaan.html">blavaan()</a></code>), we would add the argument <code>dp=mydp</code> to use this new set of default priors.</p>
</div>
<div id="individual-parameters" class="section level3">
<h3 class="hasAnchor">
<a href="#individual-parameters" class="anchor"></a>Individual Parameters</h3>
<p>In addition to setting the prior for one type of model parameter, the user may wish to set the prior of a specific model parameter. This is accomplished by using the <code>prior()</code> modifier within the model specification. For example, consider the following syntax for the Holzinger &amp; Swineford (1939) confirmatory factor model:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">HS.model</span> <span class="op">&lt;-</span> <span class="st">' visual  =~ x1 + prior("normal(1,2)")*x2 + x3
              textual =~ x4 + x5 + prior("normal(3,1.5)")*x6
              speed   =~ x7 + x8 + x9 
              x1 ~~ prior("gamma(3,3)[sd]")*x1 '</span></code></pre></div>
<p>The loading from <code>visual</code> to <code>x2</code> now has a normal prior with mean 1 and standard deviation 2, while the loading from <code>textual</code> to <code>x6</code> has a normal prior with mean 3 and standard deviation 1.5. All other loadings have the default prior distribution.</p>
<p>In the above syntax, we have additionally specified a gamma(3,3) prior associated with the residual of <code>x1</code>. The <code>[sd]</code> text at the end of the distribution says that this prior goes on the residual standard deviation, as opposed to the residual precision or residual variance. There exist two more options here: a <code>[var]</code> option for the residual variance, and no brackets for the precision (or you could also use <code>[prec]</code>). This bracketed text can be used for any model variance/SD/precision parameter and could also be used in default prior specification if desired.</p>
</div>
<div id="covariance-parameters" class="section level3">
<h3 class="hasAnchor">
<a href="#covariance-parameters" class="anchor"></a>Covariance Parameters</h3>
<p>One additional note on covariance parameters defined in the model syntax: the <code>prior()</code> syntax specifies a prior on the correlation associated with the covariance parameter, as opposed to the covariance itself. The specified distribution should have support on (0,1), and blavaan automatically translates the prior to an equivalent distribution with support on (-1,1). It is safest to stick with beta priors here. For example, the syntax</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">HS.model</span> <span class="op">&lt;-</span> <span class="st">' visual  =~ x1 + x2 + x3
              textual =~ x4 + x5 + x6
              speed   =~ x7 + x8 + x9 
              visual ~~ prior("beta(1,1)")*textual '</span></code></pre></div>
<p>places a Beta(1,1) (uniform) prior on the correlation between the <code>visual</code> and <code>textual</code> factors. If desired, we could also specify priors on the standard deviations (or variances or precisions) of the <code>visual</code> and <code>textual</code> factors. Together with the prior on the correlation, these priors would imply a prior on the covariance between <code>visual</code> and <code>textual</code>.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Edgar Merkle, Yves Rosseel, Ben Goodrich.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
